var ft_seat_minimap_timer_idx,ft_seat_minimap_dragging=!1,ft_seat_minimap_mouse_position={mx:0,my:0,lx:0,ly:0},userSelect_info=$.cgv.data.怨좉컼�좏깮�뺣낫,userSelect_info_seat=null,userSelect_info_theater_cd=null,userSelect_info_cinema_cd=null,userSelect_info_cinema_rate=null,userSelect_info_cinema_rate_ex=["11","15","02","09","04"],isNonOddTheater=!1,isEventMovieCD=!1,isSeniorNotice=!1,isPreferenceNotice=!1,createBoolStep2=!1,seatGuideArr=[],startTime="",limitResetCnt="",ratingCode=["02","05","07","09","11","16","20","21","22","26","27","28","30","31","32","33","34","35","36"],ratingCodeInfo={"02":{classNM:"sweet",seatNM:"SWEETBOX"},"05":{classNM:"gold",seatNM:IS_ENGLISH?"GOLD":"怨⑤뱶"},"07":{classNM:"cdc",seatNM:IS_ENGLISH?"MOTIONBED":"紐⑥뀡踰좊뱶"},"09":{classNM:"premium",seatNM:IS_ENGLISH?"Premium":"�꾨━誘몄뾼"},11:{classNM:"couple",seatNM:IS_ENGLISH?"Couple":"而ㅽ뵆��"},16:{classNM:"eggbox",seatNM:"EGGBOX"},20:{classNM:"cabana",seatNM:IS_ENGLISH?"Cabana":"移대컮��"},21:{classNM:"beanbag",seatNM:IS_ENGLISH?"Beanbag":"鍮덈갚��"},22:{classNM:"mat",seatNM:IS_ENGLISH?"Mat":"留ㅽ듃��"},26:{classNM:"cdcCoupleSofa",seatNM:IS_ENGLISH?"Couple Recliner":"而ㅽ뵆 由ы겢�쇱씠��"},27:{classNM:"cdcRecliner",seatNM:IS_ENGLISH?"Recliner":"由ы겢�쇱씠��"},28:{classNM:"cdcSofa",seatNM:IS_ENGLISH?"Sofa":"�뚰뙆"},30:{classNM:"coupleSofa",seatNM:IS_ENGLISH?"Couple Sofa":"而ㅽ뵆�뚰뙆"},31:{classNM:"suite_A",seatNM:"SuiteA"},32:{classNM:"suite_B",seatNM:"PRIVATE"},33:{classNM:"familyRecliner",seatNM:IS_ENGLISH?"Family Recliner":"�⑤�由� 由ы겢�쇱씠��"},34:{classNM:"private1",seatNM:IS_ENGLISH?"Private 2":"Private 2��"},35:{classNM:"private2",seatNM:"PRIVATE"},36:{classNM:"private3",seatNM:IS_ENGLISH?"Private 4":"Private 4��"}};function createOnceStep2(){createBoolStep2=!0;var s=$("<span class='radiobutton'></span>"),i=$("div.theater_minimap div.seat-type");i.parents("div.legend").css({width:"125px"});var e=[{ratingNM:"rating_prime",seatNM:IS_ENGLISH?"Prime Zone":"Prime��"},{ratingNM:"rating_comfort",seatNM:IS_ENGLISH?"Standard Zone":"Standard��"},{ratingNM:"rating_economy",seatNM:IS_ENGLISH?"Light Zone":"Light��"},{ratingNM:"handicap",seatNM:IS_ENGLISH?"Handicapped":"�μ븷�몄꽍"},{ratingNM:"sweetbox",seatNM:"SWEETBOX"},{ratingNM:"4d",seatNM:"4DX"},{ratingNM:"gold",seatNM:IS_ENGLISH?"GOLD":"怨⑤뱶"},{ratingNM:"vibration",seatNM:IS_ENGLISH?"Vibration":"吏꾨룞��"},{ratingNM:"cdc",seatNM:IS_ENGLISH?"MOTIONBED":"紐⑥뀡踰좊뱶"},{ratingNM:"cinekids",seatNM:IS_ENGLISH?"CINEKIDS":"�ㅼ쫰��"},{ratingNM:"premium",seatNM:IS_ENGLISH?"Premium":"�꾨━誘몄뾼"},{ratingNM:"widebox",seatNM:"WIDEBOX"},{ratingNM:"couple",seatNM:IS_ENGLISH?"Couple":"而ㅽ뵆��"},{ratingNM:"eggbox",seatNM:"EGGBOX"},{ratingNM:"recliner",seatNM:IS_ENGLISH?"Recliner":"由ы겢�쇱씠��"},{ratingNM:"cabana",seatNM:IS_ENGLISH?"Cabana":"移대컮��"},{ratingNM:"beanbag",seatNM:IS_ENGLISH?"Beanbag":"鍮덈갚��"},{ratingNM:"mat",seatNM:IS_ENGLISH?"Mat":"留ㅽ듃��"},{ratingNM:"relax",seatNM:IS_ENGLISH?"Relax":"由대젆�ㅼ떆��"},{ratingNM:"comport",seatNM:IS_ENGLISH?"Comport":"而댄룷�몄꽍"},{ratingNM:"mybox",seatNM:"MYBOX"},{ratingNM:"cdcCoupleSofa",seatNM:IS_ENGLISH?"Couple Recliner":"而ㅽ뵆 由ы겢�쇱씠��"},{ratingNM:"cdcRecliner",seatNM:IS_ENGLISH?"Recliner":"由ы겢�쇱씠��"},{ratingNM:"cdcSofa",seatNM:IS_ENGLISH?"Sofa":"�뚰뙆"},{ratingNM:"coupleSofa",seatNM:IS_ENGLISH?"Couple Sofa":"而ㅽ뵆�뚰뙆"},{ratingNM:"suite_A",seatNM:"SuiteA"},{ratingNM:"suite_B",seatNM:"PRIVATE"},{ratingNM:"familyRecliner",seatNM:IS_ENGLISH?"Family Recliner":"�⑤�由� 由ы겢�쇱씠��"},{ratingNM:"private1",seatNM:IS_ENGLISH?"PRIVATE 2":"PRIVATE 2��"},{ratingNM:"private2",seatNM:"PRIVATE"},{ratingNM:"private3",seatNM:IS_ENGLISH?"PRIVATE 4":"PRIVATE 4��"}];$.each(e,function(e,t){var a=s.clone();a.addClass("type-"+t.ratingNM).text(t.seatNM).append($("<span class='icon'></span>")).css({display:"none"}),e<3?i.prepend(a):i.append(a)});var t,a=null,n={},r=$("#skip_seat_list");r=$("div.section-numberofpeople"),n.title="愿��� �좎씤 �덈궡",n.popTitle="�좎씤 �덈궡",n.popTitle1="寃쎈줈�곕�",n.popTitle2="援���좉났�먰븷��",n.popTitle3="�μ븷�곕��좎씤",n.popTitle4="�ъ빞�좎씤",n.popTitle5="泥�냼�� �좎씤",n.popDisc1="留� 65�� �댁긽�� 利앸챸�� �� �덈뒗 �좊텇利� �쒖떆",n.popDisc2="援�� �좉났�먯쬆 �뚯��� 蹂몄씤�� �쒗븿",n.popDisc3="�꾩옣�먯꽌 蹂듭�移대뱶瑜� �뚯��� �μ븷��<br/>(�μ븷 1~3�깃툒: �숇컲 1�멸퉴吏� �곸슜 / 4~6�깃툒: 蹂몄씤�� �쒗븿 / <br/>�쇰컲 2D, 3D, 4DX �곹솕�� �쒗븿)",n.popDisc4="洹뱀옣蹂� �ъ빞�좎씤 �대깽�몃뒗 媛� 洹뱀옣�� 臾몄쓽",n.popDisc5="留� 18�맞좊�留뚯쓣혻利앸챸�좎닔 �덈뒗 �좊텇利� �쒖떆<br/>(留� 4�� �댁긽 ~ 留� 18�맞좊�留뚯쓽 �숈깮 �먮뒗 泥�냼��(�대┛��)��<br/>�쒗븿)",a=$('<a href="javascript:void(0)" id="reservarionDiscountInfo">'+n.title+"</a>"),t='<div style="margin-bottom: 40px;">\t\t<h3>'+n.popTitle+'</h3>\t\t<table style="margin: 10px 0; border-top:1px solid #999; width: 100%;">\t\t\t<colgroup>\t\t\t\t<col width="120" align="left" valign="middle"></col>\t\t\t\t<col width="*"></col>\t\t\t</colgroup>\t\t\t<tbody>\t\t\t\t<tr>\t\t\t\t\t<th style="text-align: left; padding-left: 5px; border-bottom: 1px solid #bbb; border-right: 1px solid #bbb;">'+n.popTitle3+'</th>\t\t\t\t\t<td style="text-align: left; border-bottom: 1px solid #bbb; padding-left: 10px;">'+n.popDisc3+'</th>\t\t\t\t</tr>\t\t\t\t<tr>\t\t\t\t\t<th style="text-align: left; padding-left: 5px; border-bottom: 1px solid #bbb; border-right: 1px solid #bbb;">'+n.popTitle4+'</th>\t\t\t\t\t<td style="text-align: left; border-bottom: 1px solid #bbb; padding-left: 10px;">'+n.popDisc4+'</th>\t\t\t\t</tr>\t\t\t\t<tr>\t\t\t\t\t<th style="text-align: left; padding-left: 5px; border-bottom: 1px solid #bbb; border-right: 1px solid #bbb;">'+n.popTitle5+'</th>\t\t\t\t\t<td style="text-align: left; border-bottom: 1px solid #bbb; padding-left: 10px;">'+n.popDisc5+"</th>\t\t\t\t</tr>\t\t\t</tbody>\t\t</table></div>",a.unbind("click").bind("click",function(){ticketAlert(n.title,t,"nonConfirm")}),IS_ENGLISH||r.append(a)}function drawSelectScreenInfo(){var e=$(".step1 .section-time .time-list li.selected"),t=e.data("screen"),a=t.PLAY_YMD;playDate=a.substr(0,4)+"."+a.substr(4,2)+"."+a.substr(6,2);var s=parseInt(a.substr(0,4),10),i=parseInt(a.substr(4,2)-1,10),n=parseInt(a.substr(6,2),10),r=new Date(s,i,n);playDays=IS_ENGLISH?["Sun","Mon","Tue","Wed","Thur","Fri","Sat"]:["��","��","��","��","紐�","湲�","��"];var o={};o.play_date=playDate,o.play_day=playDays[r.getDay()],o.time_start=t.PLAY_START_TM.substr(0,2)+":"+t.PLAY_START_TM.substr(2,2),o.time_end=t.PLAY_END_TM.substr(0,2)+":"+t.PLAY_END_TM.substr(2,2);var c={};c.remain=e.data("remain_seat"),c.total=t.SEAT_CAPACITY;var l={};l.body=$("#user-select-info"),l.site=l.body.find("span.site"),l.screen=l.body.find("span.screen"),l.seatNum=l.body.find("span.seatNum"),l.playYMD=l.body.find("p.playYMD-info"),l.site.text(t.THEATER_NM),l.screen.text(t.SCREEN_NM),l.seatNum.find(".restNum").text(c.remain),l.seatNum.find(".totalNum").text(c.total),l.playYMD.find("b:eq(0)").text(o.play_date),l.playYMD.find("b:eq(1)").text("("+o.play_day+")"),l.playYMD.find("b:eq(2)").text(o.time_start+" ~ "+o.time_end)}function ticketStep2Init(){createBoolStep2||createOnceStep2(),startTime=new Date,limitResetCnt=0,userSelect_info_seat=userSelect_info.醫뚯꽍,userSelect_info_theater_cd=userSelect_info.洹뱀옣.洹뱀옣肄붾뱶,userSelect_info_cinema_cd=userSelect_info.�곸쁺愿��쒓컙.�곸쁺愿�肄붾뱶,userSelect_info_cinema_rate=userSelect_info.�곸쁺愿��쒓컙.�곸쁺愿��깃툒肄붾뱶,isPreferenceNotice=isSeniorNotice=isEventMovieCD=isNonOddTheater=!1,kidsFamily.init(),noblessesClub.init(),"15"===userSelect_info_cinema_rate&&"0205"===userSelect_info.洹뱀옣.洹뱀옣肄붾뱶&&(isNonOddTheater=!0),"0228"===userSelect_info.洹뱀옣.洹뱀옣肄붾뱶&&(isNonOddTheater=!0),userSelect_info.�곹솕.�곹솕肄붾뱶===eventMovieCD&&(isEventMovieCD=!0),$(".btn-refresh").unbind("click").bind("click",reservationSeatReset),updateNanoScroller($("#seat_minimap_nano")),ftSetSeatLayoutZoom(!1),drawSelectScreenInfo(),ftLoadSeatLayout(),ticketStep2PopupCheck(),setTimeout(function(){skipToSomething("skip_seat_list")},0)}function onTicketStep2Prev(){$("#seats_list .row .seat").removeClass("selected preselect"),ft_selected_seat_rating="",ticketPopupHideAll(),loadPrereservateSeatsCancel(function(){startTime=new Date,limitResetCnt=0,ticketStep2Update(),reservationSeatReset(!0),$.cgv.data.�덈ℓ�뺤젙�뺣낫.珥덇린��()})}function ticketStep2Update(){userSelect_info_seat.援곗씤�몄썝��=0,userSelect_info_seat.�쇰컲�몄썝��=0,userSelect_info_seat.�숈깮�몄썝��=0,userSelect_info_seat.�대┛�댁씤�먯닔=0,userSelect_info_seat.寃쎈줈�몄썝��=0,userSelect_info_seat.�곕��몄썝��=0,settingNOPSection(),ftMarkNotAvailSeats(),tnbUpdate()}function settingNOPSection(){selectNumData.millitary=userSelect_info_seat.援곗씤�몄썝��,selectNumData.adult=userSelect_info_seat.�쇰컲�몄썝��,selectNumData.youth=userSelect_info_seat.�숈깮�몄썝��,selectNumData.child=userSelect_info_seat.�대┛�댁씤�먯닔,selectNumData.senior=userSelect_info_seat.寃쎈줈�몄썝��,selectNumData.special=userSelect_info_seat.�곕��몄썝��;var e=$(".steps .step2 .section.section-seat"),t=$(".section-numberofpeople .numberofpeople-select .group");t.hide(),$("li",t).unbind("click").bind("click",numPeopleClickListener).removeClass("selected");var a=t.eq(0).find("li").attr("type","millitary");personNum_li_adult=t.eq(1).find("li").attr("type","adult"),personNum_li_youth=t.eq(2).find("li").attr("type","youth"),personNum_li_child=t.eq(3).find("li").attr("type","child"),personNum_li_senior=t.eq(4).find("li").attr("type","senior"),personNum_li_special=t.eq(5).find("li").attr("type","special"),a.eq(selectNumData.millitary).addClass("selected"),personNum_li_adult.eq(selectNumData.adult).addClass("selected"),personNum_li_youth.eq(selectNumData.youth).addClass("selected"),personNum_li_child.eq(selectNumData.child).addClass("selected"),personNum_li_senior.eq(selectNumData.senior).addClass("selected"),personNum_li_special.eq(selectNumData.special).addClass("selected");var s=!1,i=$.cgv.data.SEAT_INFO.PRICE_INFO;if(void 0===i)return!1;for(var n=$.isArray(i)?i:[i],r=0;r<n.length;++r){var o=n[r];"01"==o.TICKET_TYPE&&0<parseInt(o.TICKET_TYPE,10)&&t.eq(1).show(),"04"==o.TICKET_TYPE&&0<parseInt(o.TICKET_TYPE,10)&&t.eq(4).show(),screen_YMD<senior_YMD?t.eq(4).find(".title").text(IS_ENGLISH?"Preference":"�곕�"):(t.eq(4).find(".title").text(IS_ENGLISH?"Senior":"寃쎈줈"),"03"==o.TICKET_TYPE&&0<parseInt(o.TICKET_TYPE,10)&&t.eq(5).show()),"05"==o.TICKET_TYPE&&0<parseInt(o.TICKET_TYPE,10)&&t.eq(3).show(),"02"==o.TICKET_TYPE&&0<parseInt(o.TICKET_TYPE,10)&&(kidsFamily.cineKids()&&t.eq(1).hide(),kidsFamily.cineKids()?t.eq(2).hide():t.eq(2).show()),"10"==o.TICKET_TYPE&&0<parseInt(o.TICKET_TYPE,10)&&(s=!0)}"99"===$.cgv.data.怨좉컼�좏깮�뺣낫.�곹솕.�곹솕�깃툒肄붾뱶&&(t.eq(2).hide(),t.eq(3).hide()),"Y"===$.cgv.data.�듭떊.蹂듯샇��($.cgv.data.怨좉컼�뺣낫.援곗씤�щ�)&&s&&!selectedMovieInfo.isBool("package")&&t.eq(0).show(),numPeopleDimm(),e.removeClass("three_line").removeClass("four_line");var c=$("div.group:visible").length;3==c&&e.addClass("three_line"),4==c&&e.addClass("four_line"),ft_person_count=selectNumData.total(),ft_seat_remain_count=ft_person_count,ft_seat_select_count=0,ts2ValidatePersonCount(),ftSetAdjacentSeatSelector(ft_person_count)}function ts2ValidatePersonCount(){var e=$("#ticket .section-seat"),t=selectNumData.total();0!=t&&ticketStep2PeopleCountCheck(t)?e.removeClass("dimmed"):e.addClass("dimmed")}function numPeopleClickListener(e){if(!(0<getLoadingCount())){_showLoadingIE();var t=$(e.currentTarget?e.currentTarget:e.srcElement);if("dimmed"===t.attr("class"))return!1;var a=t.attr("type");if("child"===a){if(0===parseInt(t.data("count")))return numPeopleClickCallBack(t),!1;kidsFamily.check(function(e){"Y"===e&&numPeopleClickCallBack(t),"N"===e&&kidsFamily.join()})}else"adult"===a&&noblessesClub.is("target")?noblessesClub.is("join")?numPeopleClickCallBack(t):noblessesClub.join():numPeopleClickCallBack(t)}}function numPeopleClickCallBack(e){var t=e.attr("type"),a=0;if(e.parents(".numberofpeople-select").find("li.selected").each(function(){$(this).attr("type")==t?a+=e.data("count"):a+=$(this).data("count")}),"millitary"!==t&&0<selectNumData.millitary||"millitary"===t&&0<selectNumData.total()-selectNumData.millitary)ticketAlert("�몄썝�좏깮 �쒗븳","援곗씤 諛쒓텒�� 寃쎌슦,<br/><em>�� 沅뚯쥌怨� 蹂듯빀 �덈ℓ媛� 遺덇��⑸땲��. </em><br/><br/>援щℓ�� 湲곗� �� 2�� �숇컲 3�멸퉴吏� 援곗씤 �좎씤 媛�寃⑹쑝濡� 援щℓ 媛��ν빀�덈떎.");else if(0<a&&"millitary"===t&&ticketAlert("援곗씤愿��뚯븞��","援곗씤 諛쒓텒�� 寃쎌슦,<br/>援щℓ�� 湲곗� �� 2�� �숇컲 3�멸퉴吏� 援곗씤 �좎씤 媛�寃⑹쑝濡� 援щℓ 媛��ν빀�덈떎.<br/><br/>援곗씤 �뺤씤利앹쓣 瑗� 吏�李명빐二쇱꽭��. �곸쁺愿� �낆옣 �� 援곗씤 �뺤씤利� 誘몄�李명븳 寃쎌슦 �낆옣�� �쒗븳�� �� �덉뒿�덈떎.<br/><br/>* 援곗씤�좎씤�� �곸슜�섏뿬 援щℓ �� �대깽�� �먮뒗 以묐났�좎씤�� �곸슜�섏� �딆뒿�덈떎."),a<ft_seat_select_count)alert("�좏깮�� 醫뚯꽍�� �덈ℓ �몄썝 蹂대떎 留롮뒿�덈떎.");else{if(a>MAX_RESERVATION_COUNT){if(IS_ENGLISH)return alert(MSG1_MAX_PEOPLE1+MAX_RESERVATION_COUNT+MSG1_MAX_PEOPLE2),void _hideLoadingIE();var s="理쒕��몄썝�좏깮",i="<em>�밸퀎 諛⑹뿭吏�移� 媛뺥솕�� �곕씪 �덈ℓ 媛��� �섎웾�� 4留ㅻ줈 �쒗븳�⑸땲��.</em><br/>醫뚯꽍 媛� �꾩뼱�됯린 諛� �곸쁺愿� �� 留덉뒪�� �곸떆 李⑹슜 遺��곷뱶由쎈땲��.<br/>",n="�뺤씤",r=$("#fullResInfoCon"),o=$("#blackscreen"),c=$("#ticket_loading");return 0==r.length&&(r=$('<div id="fullResInfoCon" class="ft_layer_popup"/>'),popNotiConHtml='\t<div class="hd">\t\t<div class="title_area"><h4>'+s+'</h4></div>\t</div>\t<div class="bd">\t\t<div class="bd_txt" style="margin-bottom: 15px; text-align: center">'+i+'</div>\t\t<div style="text-align: center;">\t\t\t<a title="�뺤씤" class="closePop btn btn_red btn_size3" style="width: 115px" onclick="return false;" href="#"><span>'+n+'</span></a>\t\t</div>\t</div>\t<a title="李� �リ린" class="pop_close closePop" onclick="return false;" href="#none">�リ린</a>',r.append(popNotiConHtml).css({position:"absolute",display:"block",width:"450px",height:"210px",left:"55%",top:"35%"}),r.find("a.closePop").click(function(){r.hide(),o.hide()}),$("body").append(r)),o.show(),c.hide(),void r.show()}if(("child"===t||"senior"===t||"special"===t)&&"02"===ft_selected_seat_rating)return alert(MSG1_PREFERENTIAL_ALERT_MSG),!1;if("millitary"==t&&(selectNumData.millitary=parseInt(e.data("count"))),"adult"==t&&(selectNumData.adult=parseInt(e.data("count"))),"youth"==t&&(selectNumData.youth=parseInt(e.data("count"))),"senior"==t&&(selectNumData.senior=parseInt(e.data("count"))),"special"==t&&(selectNumData.special=parseInt(e.data("count"))),"child"==t&&(kidsFamily.is()?selectNumData.child=parseInt(e.data("count")):selectNumData.youth=parseInt(e.data("count")),kidsFamily.is()&&0===parseInt(e.data("count"))&&(selectNumData.child=0)),numTotalPerson=selectNumData.total(),4<numTotalPerson&&"0150"==$.cgv.data.怨좉컼�좏깮�뺣낫.洹뱀옣.洹뱀옣肄붾뱶&&-1!=$.cgv.data.怨좉컼�좏깮�뺣낫.�곹솕.�곹솕紐�.indexOf("臾대즺"))return ticketAlert(MSG1_FREE_TICKET_MAX4_t,MSG1_FREE_TICKET_MAX4_c),void _hideLoadingIE();screen_YMD<senior_YMD?"senior"!==t||isPreferenceNotice||(isPreferenceNotice=!0,ticketAlert(MSG1_PREFERENTIAL_PRICING_t,MSG1_PREFERENTIAL_PRICING_c)):("senior"!==t||isSeniorNotice||(isSeniorNotice=!0,ticketAlert(MSG1_SENIOR_PRICING_t,MSG1_SENIOR_PRICING_c)),"special"!==t||isPreferenceNotice||(isPreferenceNotice=!0,ticketAlert(MSG1_PREFERENTIAL_PRICING_t,MSG1_PREFERENTIAL_PRICING_c2))),e.parent().find("li").removeClass("selected"),e.addClass("selected");var l=$.cgv.data.怨좉컼�좏깮�뺣낫.醫뚯꽍;l["援곗씤�몄썝��"]=selectNumData.millitary,l["�쇰컲�몄썝��"]=selectNumData.adult,l["�숈깮�몄썝��"]=selectNumData.youth,l["�대┛�댁씤�먯닔"]=selectNumData.child,l["寃쎈줈�몄썝��"]=selectNumData.senior,l["�곕��몄썝��"]=selectNumData.special,numPeopleDimm(),numPeopleClickProcess()}}function numPeopleDimm(){var e=$(".section-numberofpeople .numberofpeople-select .group");$("li",e).removeClass("dimmed");for(var t=MAX_RESERVATION_COUNT-selectNumData.total(),a=["millitary","adult","youth","child","senior","special"],s=0;s<a.length;s++){var i=$("#nop_group_"+a[s]),n=$("li",i),r=selectNumData[a[s]]+t;n.each(function(){parseInt($(this).attr("data-count"),10)>r&&$(this).addClass("dimmed")})}}function numPeopleClickProcess(){ftUpdateSeatCounting(),ts2ValidatePersonCount(),ftResetAdjacentSeatSelector(),ts2RestrictAdjacentSeat(),setTimeout("numPeopleClickProcessDelay()",0)}function numPeopleClickProcessDelay(){ts2ResetSeatLayout(),_hideLoadingIE()}function ts2SeatZoomClickListener(){var e=$("#seat_zoom_btn");e.toggleClass("on"),e.hasClass("on")?(ftSetSeatLayoutZoom(!0),IS_ENGLISH?e.html("Reduce"):e.html("�묎쾶蹂닿린"),logClick("�ш쾶蹂닿린")):(ftSetSeatLayoutZoom(!1),IS_ENGLISH?e.html("Enlarge"):e.html("�ш쾶蹂닿린"),logClick("�묎쾶蹂닿린")),updateNanoScroller($("#seat_minimap_nano"))}function ts2RestrictAdjacentSeat(){}var allSeatRowCon=$("#seats_list .row .seat");function ts2ResetSeatLayout(){allSeatRowCon.removeClass("selected preselect"),ftSetAdjacentSeatSelector(ft_seat_remain_count),ftChooseSeatGroupDirection(),ftResetSeatGrouping(),tnbUpdate()}var textLoopEvt=null;function theaterNoticeChecker(){null!==textLoopEvt&&clearInterval(textLoopEvt);var a=$("#theaterNoticeInfoCon");if(1<=a.length&&a.remove(),"object"==typeof $.cgv.data.SEAT_INFO.MVE_INFO){var e=$.cgv.data.SEAT_INFO.MVE_INFO.MVE_ADD_INFO;if(""===e)return;var s=$("p.textCon",a);function t(){var e=a.width(),t=s.width();s.css("margin-left",e).stop(!0,!1).animate({"margin-left":-t},11e3,"linear")}a.length<=0&&((a=$('<div id="theaterNoticeInfoCon"/>')).css({width:"520px",height:"15px",padding:"5px",overflow:"hidden",background:"#333",position:"absolute",bottom:"0px",left:"150px"}),(s=$('<span class="textCon"/>')).css({position:"relative",display:"inline-block",color:"#ddd","white-space":"noWrap"}),a.append(s),$("div#seat_minimap_nano").append(a)),s.text(e),t(),textLoopEvt=setInterval(function(){t()},11e3)}}function ticketDrawTheater(){clearInterval(ft_seat_minimap_timer_idx);var e=$("#seat_minimap_nano"),t=$("#minimap"),a=(e.find(".content"),e.find(".screen")),s=e.find(".seats"),i=$.cgv.data.SEAT_INFO.SCREEN_INFO,n=$.cgv.data.SEAT_INFO.PRICE_INFO,r=$.cgv.data.SEAT_INFO.SEAT_INFO,o=($.cgv.data.SEAT_INFO.TICKET_INFO,$.cgv.data.SEAT_INFO.SCREEN_GATE_INFO,$.cgv.data.SEAT_INFO.SEAT_NOTICE_INFO);$.cgv.data.怨좉컼�좏깮�뺣낫;if(ft_selected_seat_rating="",FIRST_ALLEY_X=[],seatGuideArr=[],null==r)return alert(MSG2_NO_SEAT_DATA),ticketRestart(),!1;if(i.length<=0)return alert(MSG2_RESERVATION_NOT_READY),!1;var c=e.hasClass("zoom"),l=parseInt(i.X_CNT,10),d=parseInt(i.Y_CNT,10);t.hide(),s.css("margin-top","").empty();var _=16*(l+1),p=16*d,u=24*(l+1),f=24*d,S=_;S<652&&(S=652),a.css("width",S),c&&(_=u,p=f),s.css({width:_+"px",height:p+"px"}),s.data("width",_),s.data("height",p),s.data("width_zoom",u),s.data("height_zoom",f);for(var m,N,I,v,h,g=r,C=n,E=o,T=$("<div></div>"),A=g.length,M=0;M<A;M++){var b,G,R=g[M],D=parseInt(R.LOC_X,10),L=parseInt(R.LOC_Y,10),P=parseInt(R.SEAT_NO,10),O=R.SEAT_STATE;N!=L&&(!0,FIRST_ALLEY_X[L-1]=-1,v="<div class='row' style='top:",v+=c?24*(L-1):16*(L-1),v+="px;'>",v+="<div class='label'>"+R.LOC_Y_NM+"</div>",IS_ENGLISH?v+="<a href='#' onclick='skipToNextRow(event);return false;' class='skip_row'>skip row "+R.LOC_Y_NM+"</a>":v+="<a href='#' onclick='skipToNextRow(event);return false;' class='skip_row'>"+R.LOC_Y_NM+"�� 嫄대꼫�곌린</a>",v+="</div>",(b=$(v)).data("top",16*(L-1)),b.data("top_zoom",24*(L-1)),T.append(b)),-1==FIRST_ALLEY_X[L-1]&&1<D-m&&(FIRST_ALLEY_X[L-1]=D-1),(N!=L||1<D-m)&&(I=$("<div class='seat_group'></div>"),b.append(I)),m=D,N=L;var y=!1,k=!1,x=!1,w=!1,H=!1,Y=!1,F=!1,j=!1,V=!1,B=!1,U=!1,X=!1,q=!1,K=!1;"Y"!==O&&(y=!0),y||(x=!0),"02"===R.KIND_CD&&(k=!0),"N"===O&&"03"===R.KIND_CD&&(K=!0);var z=R.RATING_CD,J=R.SEAT_RELATION_CODE,W=relationCheck(z);"02"===z&&(w=!0),"03"===z&&(H=!0),"04"===z&&(F=!0),"08"===z&&(Y=!0),"09"===z&&(X=!0),"10"===z&&(j=!0),"11"===z&&(V=!0),"12"!==z&&"13"!==z&&"14"!==z||(B=!0),"16"===z&&(U=!0),"19"===z&&(q=!0),k&&(z="sp"),0!=seatGuideArr.length&&-1!=seatGuideArr.indexOf(z)||seatGuideArr.push(z);var Z='<div class="seat';if(W&&"000"!==J)if(M<1)Z+=" connecting stateS";else{var Q=g[M-1],ee=Q.RATING_CD,te=Q.SEAT_RELATION_CODE,ae=parseInt(Q.LOC_X,10),se=parseInt(Q.LOC_Y,10);Z+=ee!==z?" connecting stateS":1<D-ae||se!==L?" connecting stateS":te!==J?" connecting stateS":" connecting"}if(K&&("99"!==DISTANCE_CLS?Z+=" distanced":Z+=" blocked"),y?Z+=" reserved":k?Z+=" handicap":(w&&(Z+=" sweet"),H&&(Z+=" veat"),Y&&(Z+=" cinekids"),X&&(Z+=" premium"),F&&(Z+=" fourd"),j&&(Z+=" wide"),V&&(Z+=" couple"),U&&(Z+=" eggbox"),q&&(Z+=" recliner"),"05"===R.RATING_CD&&(Z+=" gold"),"06"===R.RATING_CD&&(Z+=" vibration"),"07"===R.RATING_CD&&(Z+=" cdc"),"20"===R.RATING_CD&&(Z+=" cabana"),"21"===R.RATING_CD&&(Z+=" beanbag"),"22"===R.RATING_CD&&(Z+=" mat"),"23"===R.RATING_CD&&(Z+=" relax"),"24"===R.RATING_CD&&(Z+=" comport"),"25"===R.RATING_CD&&(Z+=" mybox"),"26"===R.RATING_CD&&(Z+=" cdcCoupleSofa"),"27"===R.RATING_CD&&(Z+=" cdcRecliner"),"28"===R.RATING_CD&&(Z+=" cdcSofa"),"29"===R.RATING_CD&&(Z+=" comport"),"30"===R.RATING_CD&&(Z+=" coupleSofa"),"31"===R.RATING_CD&&(Z+=" suite_A"),"32"===R.RATING_CD&&(Z+=" suite_B"),"33"===R.RATING_CD&&(Z+=" familyRecliner"),"34"===R.RATING_CD&&(Z+=" private1"),"35"===R.RATING_CD&&(Z+=" private2"),"36"===R.RATING_CD&&(Z+=" private3"),B&&("12"===R.RATING_CD&&(Z+=" rating_prime"),"13"===R.RATING_CD&&(Z+=" rating_comfort"),"14"===R.RATING_CD&&(Z+=" rating_economy"))),Z+='"',Z+=' style="left:',Z+=c?24*D+'px"':16*D+'px"',Z+=' data-left="'+16*D+'"',Z+=' data-left_zoom="'+24*D+'">',Z+='<a href="#"" onclick="return false;""><span class="no">',Z+=P,Z+='</span><span class="sreader">',y&&(Z+=IS_ENGLISH?" occupied seat":" �덈ℓ�꾨즺"),k&&(Z+=IS_ENGLISH?" handicapped seat":" �μ븷�몄꽍"),w&&(Z+=(IS_ENGLISH," sweetbox")),H&&(Z+=(IS_ENGLISH," veatbox")),Y&&(Z+=(IS_ENGLISH," cinekids")),X&&(Z+=IS_ENGLISH?" premium":" �꾨━誘몄뾼��"),F&&(Z+=(IS_ENGLISH," 4dx")),j&&(Z+=(IS_ENGLISH," widebox")),V&&(Z+=IS_ENGLISH?" coupled seat":" 而ㅽ뵆��"),U&&(Z+=IS_ENGLISH?" Egg box seat":" Egg Box"),q&&(Z+=IS_ENGLISH?" Recliner seat":" 由ы겢�쇱씠�덉꽍"),"05"===R.RATING_CD&&(Z+=IS_ENGLISH?"GoldClass":"怨⑤뱶�대옒�ㅼ꽍"),"06"===R.RATING_CD&&(Z+=IS_ENGLISH?"Vibration":"吏꾨룞��"),"07"===R.RATING_CD&&(Z+="CDC"),"20"===R.RATING_CD&&(Z+=IS_ENGLISH?"Cabana":"移대컮�섏꽍"),"21"===R.RATING_CD&&(Z+=IS_ENGLISH?"Beanbag":"鍮덈갚��"),"22"===R.RATING_CD&&(Z+=IS_ENGLISH?"Mat":"留ㅽ듃��"),"23"===R.RATING_CD&&(Z+=IS_ENGLISH?"Relax":"由대젆�ㅼ꽍"),"24"===R.RATING_CD&&(Z+=IS_ENGLISH?"Comport":"而댄룷�몄꽍"),"25"===R.RATING_CD&&(Z+=IS_ENGLISH?"My box":"留덉씠諛뺤뒪��"),"26"===R.RATING_CD&&(Z+=IS_ENGLISH?"Couple sofa":"而ㅽ뵆�쇳뙆��"),"27"===R.RATING_CD&&(Z+=IS_ENGLISH?"Recliner seat":"由ы겢�쇱씠�덉꽍"),"28"===R.RATING_CD&&(Z+=IS_ENGLISH?"Sofa seat":"�쇳뙆��"),"29"===R.RATING_CD&&(Z+=IS_ENGLISH?"Comport":"而댄룷�몄꽍"),"31"===R.RATING_CD&&(Z+="Suite A"),"32"===R.RATING_CD&&(Z+="Suite B"),"33"===R.RATING_CD&&(Z+=IS_ENGLISH?"Family Recliner":"�⑤�由� 由ы겢�쇱씠��"),"34"===R.RATING_CD&&(Z+="Private1"),"35"===R.RATING_CD&&(Z+="Private2"),"36"===R.RATING_CD&&(Z+="Private3"),"01"==R.SEAT_AREA_CD&&(Z+=(IS_ENGLISH," prime zone")),B&&("12"===R.RATING_CD&&(Z+=IS_ENGLISH?" prime seat":" Prime"),"13"===R.RATING_CD&&(Z+=IS_ENGLISH?" comfort seat":" Comfort"),"14"===R.RATING_CD&&(Z+=IS_ENGLISH?" Light seat":" Light")),Z+="</span><span class='sreader mod'></span></a></div>",(G=$(Z)).data("xml",R),I.append(G),(h=G.find("a")).bind("click",ftSeatClickListener),h.bind("focus blur",ftSeatFocusListener),h.bind("mouseenter",ftSeatMouseEnterListener),h.bind("mouseleave",ftSeatMouseLeaveListener),!IS_ENGLISH&&null!=E)for(var ie=E.length,ne=0;ne<ie;ne++){var re=$.cgv.data.SEAT_INFO.SEAT_NOTICE_INFO[ne];if(R.SEAT_LOC_NO==re.SEAT_LOC_NO){G.data("seat_desc",re.SEAT_EACH_INFO),G.attr("title",re.SEAT_EACH_INFO);break}}0,x&&0;var oe=C.length;for(ne=0;ne<oe;ne++){var ce=G.data("xml").RATING_CD,le=C[ne];if(ce==le.RATING_CD){var de=G.data("媛�寃⑹젙蹂�");null==de&&(de=new Array),de.push(le),G.data("媛�寃⑹젙蹂�",de)}"01"==$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺�쒓컙肄붾뱶&&"01"==le.TICKET_TYPE&&0<parseInt(le.PRICE,10)?le.PRICE:"01"==$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺�쒓컙肄붾뱶&&"02"==le.TICKET_TYPE&&0<parseInt(le.PRICE,10)&&le.PRICE}}s.append(T),ftChooseSeatGroupDirection(),ftResetSeatGrouping(),setTimeout("ticketDrawTheaterDelay()",0)}function ticketDrawTheaterDelay(){$(".section-seat .theater.nano").nanoScroller(),ftDrawMinimap(),ftDrawExits(),ftShowSeatExam()}function ftShowSeatExam(){var e=$("div.theater_minimap div.seat-type");e.find("span.radiobutton").hide();for(var t="type-",a=0;a<seatGuideArr.length;++a){var s=null;"sp"===seatGuideArr[a]&&(s=t+"handicap"),"01"===seatGuideArr[a]&&(s=t+"normal"),"02"===seatGuideArr[a]&&(s=t+"sweetbox"),"03"===seatGuideArr[a]&&(s=t+"veatbox"),"04"===seatGuideArr[a]&&(s=t+"4d"),"05"===seatGuideArr[a]&&(s=t+"gold"),"06"===seatGuideArr[a]&&(s=t+"vibration"),"07"===seatGuideArr[a]&&(s=t+"cdc"),"08"===seatGuideArr[a]&&(s=t+"cinekids"),"09"===seatGuideArr[a]&&(s=t+"premium"),"10"===seatGuideArr[a]&&(s=t+"widebox"),"11"===seatGuideArr[a]&&(s=t+"couple"),"12"===seatGuideArr[a]&&(s=t+"rating_prime"),"13"===seatGuideArr[a]&&(s=t+"rating_comfort"),"14"===seatGuideArr[a]&&(s=t+"rating_economy"),"16"===seatGuideArr[a]&&(s=t+"eggbox"),"19"===seatGuideArr[a]&&(s=t+"recliner"),"20"===seatGuideArr[a]&&(s=t+"cabana"),"21"===seatGuideArr[a]&&(s=t+"beanbag"),"22"===seatGuideArr[a]&&(s=t+"mat"),"23"===seatGuideArr[a]&&(s=t+"relax"),"24"===seatGuideArr[a]&&(s=t+"comport"),"25"===seatGuideArr[a]&&(s=t+"mybox"),"26"===seatGuideArr[a]&&(s=t+"cdcCoupleSofa"),"27"===seatGuideArr[a]&&(s=t+"cdcRecliner"),"28"===seatGuideArr[a]&&(s=t+"cdcSofa"),"29"===seatGuideArr[a]&&(s=t+"comport"),"30"===seatGuideArr[a]&&(s=t+"coupleSofa"),"31"===seatGuideArr[a]&&(s=t+"suite_A"),"32"===seatGuideArr[a]&&(s=t+"suite_B"),"33"===seatGuideArr[a]&&(s=t+"familyRecliner"),"34"===seatGuideArr[a]&&(s=t+"private1"),"35"===seatGuideArr[a]&&(s=t+"private2"),"36"===seatGuideArr[a]&&(s=t+"private3"),null!=s&&e.find("span."+s).show()}}function ftDrawExits(){var e=$(".section-seat .theater"),t=$("#seats_list"),a=$("#minimap .mini_container .mini_exits");a.empty();for(var s,i,n=$.cgv.data.SEAT_INFO.SCREEN_INFO,r=$.cgv.data.SEAT_INFO.SCREEN_GATE_INFO,o=parseInt(n.Y_CNT,10),c=parseInt(n.X_CNT,10),l=e.hasClass("zoom"),d=16*(c+1),_=16*o,p=24*(c+1),u=24*o,f=null,S=0,m=0,N=0,I=0,v=[r.GATE_INFO1,r.GATE_INFO2,r.GATE_INFO3],h=v.length,g=0;g<h;g++)if("00"!=(i=v[g])){switch(s=$("<div class='mini_exit'></div>"),f=$("<div class='exit'></div>"),I=N=m=S=0,i){case"01":S=_+10,m=d-30,N=u+10,I=p-30,f.addClass("bottom"),s.addClass("br");break;case"02":S=_+10,N=u+10,I=m=30,f.addClass("bottom"),s.addClass("bl");break;case"03":m=d-30,N=S=-30,I=p-30,f.addClass("top"),s.addClass("tr");break;case"04":S=-30,N=-(m=30),I=30,f.addClass("top"),s.addClass("tl");break;case"05":S=Math.round(_/2),m=d+10,N=Math.round(u/2),I=p+10,f.addClass("right"),s.addClass("cr");break;case"06":S=Math.round(_/2),m=-30,N=Math.round(u/2),I=-30,f.addClass("left"),s.addClass("cl")}l?(f.css("top",N+"px"),f.css("left",I+"px")):(f.css("top",S+"px"),f.css("left",m+"px")),f.data("top",S),f.data("left",m),f.data("top_zoom",N),f.data("left_zoom",I),t.append(f),a.append(s)}}function ftDrawMinimap(){var e=$("#minimap .mini_container"),t=$("#minimap .mini_container .mini_seats");t.empty();var a=$.cgv.data.SEAT_INFO.SCREEN_INFO,s=parseInt(a.Y_CNT,10),i=parseInt(a.X_CNT,10);e.css({width:4*i+30+"px",height:4*s+40+"px"}),CMN_OSBR.ie7&&$("#minimap .mini_header").css("width",4*i+30+"px");for(var n,r,o=$.cgv.data.SEAT_INFO.SEAT_INFO,c=o.length,l=0;l<c;l++){var d=o[l],_=parseInt(d.LOC_X,10),p=parseInt(d.LOC_Y,10),u=!1,f=!1,S=!1,m=!1,N=!1,I=!1,v=!1,h=!1;switch("Y"!=d.SEAT_STATE&&(u=!0),"02"==d.KIND_CD&&(f=!0),d.RATING_CD){case"01":case"05":case"06":case"07":case"08":default:u||!0;break;case"02":S=!0;break;case"03":m=!0;break;case"04":N=!0;break;case"09":h=!0;break;case"10":I=!0;break;case"11":v=!0}r='<div class="mini_seat',u&&(r+=" reserved"),f&&(r+=" handicap"),S&&(r+=" sweet"),m&&(r+=" veat"),N&&(r+=" fourd"),I&&(r+=" wide"),v&&(r+=" couple"),h&&(r+=" premium"),r+='" style="',r+="left:"+4*(_-1)+"px;",r+="top:"+4*(p-1)+"px;",r+='"><span></span></div>',n=$(r),t.append(n)}clearInterval(ft_seat_minimap_timer_idx),ft_seat_minimap_timer_idx=setInterval("ftSeatMinimapTimerListener();",100),$("#minimap .mini_region").unbind("mousedown").bind("mousedown",ftSeatMinimapDownListener)}function ftSeatMinimapTimerListener(){ftSeatMinimapScrollListener()}function ftSeatMinimapScrollListener(){if(!ft_seat_minimap_dragging){var e=$(".section-seat .theater"),t=e.find(".content"),a=$("#minimap"),s=$("#minimap .mini_container"),i=$("#minimap .mini_region"),n=t.scrollTop(),r=t.scrollLeft(),o=t.get(0).scrollHeight,c=t.get(0).scrollWidth,l=e.height(),d=e.width(),_=o-l,p=c-d,u=s.height(),f=s.width();o<l&&(o=l);var S=Math.round(l/o*u),m=Math.round(d/c*f),N=u-S,I=f-m,v=Math.round(n/_*N)+25,h=Math.round(r/p*I)+5;isNaN(v)&&(v=25),isNaN(h)&&(h=5),i.height(S),i.width(m),i.css("top",v),i.css("left",h),l<o||d<c?a.css("display","block"):a.css("display","none")}}function ftSeatMinimapToggle(){var e=$("#minimap");e.hasClass("opened")?e.removeClass("opened"):e.addClass("opened"),ftSeatMinimapScrollListener()}function ftSeatMinimapDownListener(e){var t=$("#minimap .mini_region");e.preventDefault(),ft_seat_minimap_dragging=!0,$(document).unbind("mouseup",ftSeatMinimapUpListener).bind("mouseup",ftSeatMinimapUpListener),$(document).unbind("mousemove",ftSeatMinimapMoveListener).bind("mousemove",ftSeatMinimapMoveListener),ft_seat_minimap_mouse_position.mx=e.pageX,ft_seat_minimap_mouse_position.my=e.pageY,ft_seat_minimap_mouse_position.lx=parseInt(t.css("left"),10),ft_seat_minimap_mouse_position.ly=parseInt(t.css("top"),10)}function ftSeatMinimapMoveListener(e){e.preventDefault();var t=ft_seat_minimap_mouse_position.mx-e.pageX,a=ft_seat_minimap_mouse_position.my-e.pageY,s=$(".section-seat .theater"),i=s.find(".content"),n=($("#minimap"),$("#minimap .mini_container")),r=$("#minimap .mini_region"),o=n.width(),c=n.height(),l=o-r.width()+5,d=c-r.height()+25,_=ft_seat_minimap_mouse_position.lx-t,p=ft_seat_minimap_mouse_position.ly-a;_<5&&(_=5),l<_&&(_=l),p<25&&(p=25),d<p&&(p=d),r.css({left:_+"px",top:p+"px"});var u=i.get(0).scrollHeight,f=i.get(0).scrollWidth,S=u-s.height(),m=f-s.width(),N=Math.round((_-5)/(l-5)*m),I=Math.round((p-25)/(d-25)*S);i.scrollLeft(N),i.scrollTop(I)}function ftSeatMinimapUpListener(e){e.preventDefault(),ft_seat_minimap_dragging=!1,$(document).unbind("mouseup",ftSeatMinimapUpListener),$(document).unbind("mousemove",ftSeatMinimapMoveListener),ftSeatMinimapMoveListener(e)}function STEP2_NOPYouthShow(){$(".step2 .section-numberofpeople .numberofpeople-select .group.youth").removeClass("hide")}function STEP2_NOPYouthHide(){$(".step2 .section-numberofpeople .numberofpeople-select .group.youth").addClass("hide")}function notNullDecryption(e){return e?$.cgv.data["�듭떊"]["蹂듯샇��"](e):e}function loadPrereservateSeats(a){$.cgv.data.怨좉컼�좏깮�뺣낫.醫뚯꽍.�덈ℓ�몄썝��=selectNumData.total(),$.cgv.data.怨좉컼�좏깮�뺣낫.�좏깮醫뚯꽍�뺣낫.�쒓�寃�.length=0,$.cgv.data.怨좉컼�좏깮�뺣낫.�좏깮醫뚯꽍�뺣낫.�쒓�寃�_�ъ슜.length=0,$.cgv.data.怨좉컼�좏깮�뺣낫.�좏깮醫뚯꽍�뺣낫.珥앷껐�쒓툑��=0;var e=[];for(n=$.cgv.data.怨좉컼�좏깮�뺣낫.�좏깮醫뚯꽍�뺣낫.�덈ℓ醫뚯꽍�뺣낫.length=0;n<selectNumData.millitary;n++)e.push("10");for(n=0;n<selectNumData.adult;n++)e.push("01");for(n=0;n<selectNumData.youth;n++)e.push("02");for(n=0;n<selectNumData.child;n++)e.push("05");for(n=0;n<selectNumData.senior;n++)e.push("04");for(n=0;n<selectNumData.special;n++)e.push("03");for(var t=[],s=$(".section-seat .theater .seats .row .seat.selected"),i=seatPSE_Sort(s),n=0;n<i.length;n++){var r=i[n],o=(ft_ticket_prices[r.RATING_CD+e[n]],{});if(o.LOC_NO=r.SEAT_LOC_NO,o.LOC_Y_NM=r.LOC_Y_NM,o.LOC_INFO=ftGetLocName(r.LOC_Y_NM)+parseInt(r.SEAT_NO,10),o.SEAT_NO=r.SEAT_NO,o.RATING_CD=r.RATING_CD,o.RATING_NM=r.RATING_NM,o.AGE_GRADE=e[n],o.PRICE=ft_ticket_prices[r.RATING_CD+e[n]],t.length<=0)t.push(o);else for(var c=parseInt(o.PRICE,10),l=0;l<t.length;++l){if(parseInt(t[l].PRICE,10)<=c){t.splice(l,0,o);break}t.push(o);break}}var d=[],_=[],p=[],u=[],f=[];e=[];for(var S=0;S<t.length;++S){var m=t[S];d.push(m.LOC_NO),_.push(m.RATING_CD),p.push(m.PRICE),u.push(m.LOC_Y_NM),f.push(m.SEAT_NO),e.push(m.AGE_GRADE),$.cgv.data.怨좉컼�좏깮�뺣낫.�좏깮醫뚯꽍�뺣낫.�쒓�寃�.push(m.PRICE),$.cgv.data.怨좉컼�좏깮�뺣낫.�좏깮醫뚯꽍�뺣낫.�쒓�寃�_�ъ슜.push(m.PRICE),$.cgv.data.怨좉컼�좏깮�뺣낫.�좏깮醫뚯꽍�뺣낫.珥앷껐�쒓툑��+=parseInt(m.PRICE,10),$.cgv.data.怨좉컼�좏깮�뺣낫.�좏깮醫뚯꽍�뺣낫.�덈ℓ醫뚯꽍�뺣낫.push(m.LOC_INFO),$.cgv.data.怨좉컼�좏깮�뺣낫.�좏깮醫뚯꽍�뺣낫.醫뚯꽍�깃툒肄붾뱶=m.RATING_NM}var N=$.cgv.api.ticket.PrereservateSeats.PARAMS;(N={}).TheaterCd=$.cgv.data.怨좉컼�좏깮�뺣낫.洹뱀옣.洹뱀옣肄붾뱶,N.PlayYMD=$.cgv.data.怨좉컼�좏깮�뺣낫.�좎쭨.�곸쁺�쇱옄,N.ScreenCd=$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺愿�肄붾뱶,N.PlayNum=$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺�뚯감,N.ReseveCnt=selectNumData.total(),N.SeatInfo=d.join(";"),N.SeatRatingInfo=_.join(";"),N.TicketTypeInfo=e.join(";"),N.SeatPriceInfo=p.join(";"),N.LOC_Y_NM=u.join(";"),N.SEAT_NM=f.join(";"),N.MEMBER_ID=$.cgv.data.怨좉컼�뺣낫.鍮꾪쉶�먯뿬遺�?$.cgv.data.怨좉컼�뺣낫.�ъ슜�먯븘�대뵒:$.cgv.data["�듭떊"]["蹂듯샇��"]($.cgv.data.怨좉컼�뺣낫.�ъ슜�먯븘�대뵒),N.PLAY_TIME_CD=$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺�쒓컙肄붾뱶,"Cgv-Guest-332211"==N.MEMBER_ID?N.SOCIAL_NO=$.cgv.data["�듭떊"]["蹂듯샇��"]($.cgv.data.怨좉컼�뺣낫.�ъ슜�먯＜誘쇰쾲��):N.SOCIAL_NO=$.cgv.data["�듭떊"]["蹂듯샇��"]($.cgv.data.怨좉컼�뺣낫.�ъ슜�먯＜誘쇰쾲��).substr(2),N.MOBILE_NO=$.cgv.data["怨좉컼�뺣낫"]["鍮꾪쉶�먯뿬遺�"]?$.cgv.data["�듭떊"]["蹂듯샇��"]($.cgv.data.怨좉컼�뺣낫.�ъ슜�먰빖�쒗룿踰덊샇):$.cgv.data["�듭떊"].UrlDecode($.cgv.data.怨좉컼�뺣낫.�ъ슜�먰빖�쒗룿踰덊샇),N.MOVIE_CD=$.cgv.data.怨좉컼�좏깮�뺣낫.�곹솕.�곹솕肄붾뱶;var I=$.cgv.data.怨좉컼�뺣낫.鍮꾪쉶�먯뿬遺�?$.cgv.data["怨좉컼�뺣낫"]["CJONE�뚯썝踰덊샇"]:$.cgv.data["�듭떊"]["蹂듯샇��"]($.cgv.data["怨좉컼�뺣낫"]["CJONE�뚯썝踰덊샇"]),v=$.cgv.api.ticket.PrereservateSeats;$.cgv.net.loadAPI(v,N,{success:function(e){var t=$.cgv.api.ticket.PrereservateSeats.parseData(e);"00000"==t.SMS_RESULT.RES_CD?($.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.怨좉컼二쇰�踰덊샇=notNullDecryption($.cgv.data.怨좉컼�뺣낫.�ъ슜�먯＜誘쇰쾲��),$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.怨좉컼紐�=notNullDecryption($.cgv.data.怨좉컼�뺣낫.�ъ슜�먮챸),$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.CJONE�ъ씤�명쉶�먯뿬遺�="Y",$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.怨좉컼�꾩씠��=N.MEMBER_ID,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.怨좉컼�대찓��=notNullDecryption($.cgv.data.怨좉컼�뺣낫.�대찓�쇱＜��),$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�대��꾪솕踰덊샇=notNullDecryption($.cgv.data.怨좉컼�뺣낫.�ъ슜�먰빖�쒗룿踰덊샇),$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.吏묒쟾�붾쾲��=notNullDecryption($.cgv.data.怨좉컼�뺣낫.�ъ슜�먯쑀�좎쟾�붾쾲��),$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�덈ℓ�쇱옄=$.cgv.data.怨좉컼�뺣낫.�덈ℓ�쇱옄,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.CJONE�뚯썝踰덊샇=I,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�뚯썝踰덊샇=I,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�꾩씠��踰덊샇=notNullDecryption($.cgv.data.怨좉컼�뺣낫.�ъ슜�륤PIN),$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�꾩떆�덈ℓ踰덊샇=t.SMS_RESULT.RESERVE_NO,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.洹뱀옣紐�=$.cgv.data.怨좉컼�좏깮�뺣낫.洹뱀옣.洹뱀옣紐�,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.洹뱀옣肄붾뱶=$.cgv.data.怨좉컼�좏깮�뺣낫.洹뱀옣.洹뱀옣肄붾뱶,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�곸쁺愿�紐�=$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺愿�紐�,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�곸쁺愿�肄붾뱶=$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺愿�肄붾뱶,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�곸쁺�쒓컙=$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺�쒓컙,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�곸쁺�쇱옄=$.cgv.data.怨좉컼�좏깮�뺣낫.�좎쭨.�곸쁺�쇱옄,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�곸쁺�붿씪=$.cgv.data.怨좉컼�좏깮�뺣낫.�좎쭨.�곸쁺�붿씪,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�곸쁺�뚯감=$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺�뚯감,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�곹솕紐�=$.cgv.data.怨좉컼�좏깮�뺣낫.�곹솕.�곹솕紐�,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�곹솕肄붾뱶=$.cgv.data.怨좉컼�좏깮�뺣낫.�곹솕.�곹솕肄붾뱶,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�곹솕�깃툒肄붾뱶=$.cgv.data.怨좉컼�좏깮�뺣낫.�곹솕.�곹솕�깃툒肄붾뱶,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�덈ℓ�몄썝��=$.cgv.data.怨좉컼�좏깮�뺣낫.醫뚯꽍.�덈ℓ�몄썝��,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�곸쁺醫낅즺�쒓컙=$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺醫낅즺�쒓컙,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�곸쁺�쒓컙肄붾뱶=$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺�쒓컙肄붾뱶,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.珥앷껐�쒓툑��=$.cgv.data.怨좉컼�좏깮�뺣낫.�좏깮醫뚯꽍�뺣낫.珥앷껐�쒓툑��+"",$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�덈ℓ醫뚯꽍�깃툒肄붾뱶=$(".section-seat .theater .seats .row .seat.selected").eq(0).data("xml").RATING_CD,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�쒓�寃�=$.cgv.data.怨좉컼�좏깮�뺣낫.�좏깮醫뚯꽍�뺣낫.�쒓�寃�,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�곹솕�ъ뒪�캵RL=$.cgv.data.怨좉컼�좏깮�뺣낫.�곹솕.�곹솕�ъ뒪�컐rl,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�덈ℓ醫뚯꽍�뺣낫=$.cgv.data.怨좉컼�좏깮�뺣낫.�좏깮醫뚯꽍�뺣낫.�덈ℓ醫뚯꽍�뺣낫,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.援곗씤�몄썝��=$.cgv.data.怨좉컼�좏깮�뺣낫.醫뚯꽍.援곗씤�몄썝��,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�쇰컲�몄썝��=$.cgv.data.怨좉컼�좏깮�뺣낫.醫뚯꽍.�쇰컲�몄썝��,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�숈깮�몄썝��=$.cgv.data.怨좉컼�좏깮�뺣낫.醫뚯꽍.�숈깮�몄썝��,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�대┛�댁씤�먯닔=$.cgv.data.怨좉컼�좏깮�뺣낫.醫뚯꽍.�대┛�댁씤�먯닔,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.寃쎈줈�몄썝��=$.cgv.data.怨좉컼�좏깮�뺣낫.醫뚯꽍.寃쎈줈�몄썝��,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�곕��몄썝��=$.cgv.data.怨좉컼�좏깮�뺣낫.醫뚯꽍.�곕��몄썝��,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.媛�寃⑸떎蹂��붿퐫��=t.SMS_RESULT.PROMOTION_TYPE,$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.媛�寃⑸떎蹂��뷀븷�몄쑉=t.SMS_RESULT.DISC_COUNT_PRICE_PERCENTAGE,selectedMovieInfo.isBool("cultureDay")&&alert(MSG2_PROMOTION_CULDAY_NOTICE),a&&a()):alert(t.SMS_RESULT.RES_MSG)},error:silentLoadErrorListener})}function loadPrereservateSeatsCancel(t){if(""!=$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�꾩떆�덈ℓ踰덊샇){var e=$.cgv.api.ticket.PrereservateSeatsCancel.PARAMS;(e={}).TheaterCd=$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.洹뱀옣肄붾뱶,e.PlayYMD=$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�곸쁺�쇱옄,e.ScreenCd=$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�곸쁺愿�肄붾뱶,e.PlayNum=$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�곸쁺�뚯감,e.ReserveNo=$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�꾩떆�덈ℓ踰덊샇,$.cgv.net.loadAPI($.cgv.api.ticket.PrereservateSeatsCancel,e,{success:function(e){$.cgv.api.ticket.PrereservateSeatsCancel.parseData(e);$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.珥덇린��(),t&&t()},error:silentLoadErrorListener})}}function ftLoadSeatLayout(){loadSeatInfoNew(function(){$("#maximum_people").text(IS_ENGLISH?"* Maximum number of people for reservation is "+MAX_RESERVATION_COUNT:"* 理쒕� "+MAX_RESERVATION_COUNT+"紐� �좏깮 媛���");var e=$(".seat-icon-desc").find(".distanced");e.hide(),"99"!==DISTANCE_CLS&&e.show(),theaterNoticeChecker(),ticketDrawTheater(),ticketStep2Update()})}function loadSeatInfo(e){_showLoading(),_hideLoading(),e&&e()}function loadSeatInfoNew(n){var e=remainTimeCheck();if(limitResetCnt++,!e||100<limitResetCnt)return alert("醫뚯꽍 �좏깮 �쒓컙�� 珥덇낵�섏뼱 �ㅼ�以꾨줈 �대룞�⑸땲��."),location.reload(),!1;var r=APILoader.init();r.URL="/CJ000.aspx/CJ_TICKET_002_PRIME_ZONE_LANGUAGE",r.PARAMS.Language=$.cgv.config.LANGUAGE,r.PARAMS.TheaterCd=$.cgv.data.怨좉컼�좏깮�뺣낫.洹뱀옣.洹뱀옣肄붾뱶,r.PARAMS.PlayYMD=$.cgv.data.怨좉컼�좏깮�뺣낫.�좎쭨.�곸쁺�쇱옄,r.PARAMS.ScreenCd=$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺愿�肄붾뱶,r.PARAMS.PlayNum=$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺�뚯감,$.cgv.net.loadAPI(r,r.PARAMS,{success:function(e){var t=r.parseData(e);ft_ticket_prices={},$(t.PRICE_INFO).each(function(){ft_ticket_prices[this.RATING_CD+this.TICKET_TYPE]=parseInt(this.PRICE,10)});var a=t.DISTANCE_SEATING_INFO;MAX_RESERVATION_COUNT=a.RESR_PEOPLE?parseInt(a.RESR_PEOPLE,10):8,DISTANCE_CLS=a.DISTANCE_CLS;var s=t.SCREEN_INFO;$.cgv.data.怨좉컼�좏깮�뺣낫.洹뱀옣.洹뱀옣紐�=s.THEATER_NM,$.cgv.data.怨좉컼�좏깮�뺣낫.洹뱀옣.洹뱀옣肄붾뱶=s.THEATER_CD,$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺愿�紐�=s.SCREEN_NM,$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺愿�肄붾뱶=s.SCREEN_CD;var i=$("#user-select-info");i.find(".site").text(s.THEATER_NM),i.find(".screen").text(s.SCREEN_NM),$.cgv.data.SEAT_INFO=t,n()},error:silentLoadErrorListener},"",!1)}function ticketStep2PopupCheck(){var e=$.cgv.data.怨좉컼�좏깮�뺣낫,t=(e["洹뱀옣"]["洹뱀옣肄붾뱶"],e["�곹솕"]["�곹솕肄붾뱶"],e["�곹솕"]["�곹솕紐�"]),a=(e["�곹솕"]["�곹솕洹몃９紐�"],e["�곹솕"]["�곹솕�깃툒肄붾뱶"]),s=(e["�곹솕"].Third_Attr_CD,e["�곹솕"].MOVIE_ATTR_CD,e["�곸쁺愿��쒓컙"]["�곸쁺愿�肄붾뱶"],e["�곸쁺愿��쒓컙"]["�곸쁺愿��깃툒肄붾뱶"],IS_ENGLISH?"<br/>Entrance may be restricted if your age cannot be verified.":"<br/>�곕졊 �뺤씤 遺덇� �� �낆옣�� �쒗븳 �� �� �덉뒿�덈떎.");"01"==a&&selectedMovieInfo.isBool("greenCinema")&&ticketAlert(MSG1_MOVIE_GREENC_t,MSG1_MOVIE_GREENC_c),"01"!=a||selectedMovieInfo.isBool("greenCinema")||ticketAlert(MSG2_MOVIE_RATING_t,MSG2_MOVIE_RAGING_c,"adultNotice"),"02"==a&&ticketAlert(MSG2_MOVIE_RATING_t,MSG2_MOVIE_RAGING_15+s),"03"==a&&ticketAlert(MSG2_MOVIE_RATING_t,MSG2_MOVIE_RAGING_12+s),-1<t.indexOf("�щ툕留�")&&"2"==e.�곸쁺愿��쒓컙.�곸쁺�뚯감&&ticketAlert(MSG2_LOVE_MOM_t,MSG2_LOVE_MOM_c),homeCMS.get(function(e){if(e)for(var t=e.length-1;0<=t;t--){var a=e[t].IMAGE_URL,s=IS_ENGLISH?e[t].CONTENT_HE.replace(/\n/g,"<br/>"):e[t].CONTENT;if(a)if(s){var i='<p class="inner"><img src="'+a+'" width="440" height="238"><span class="bd_comment">'+s+"</span></p>";ticketAlert2(MSG2_CINEMA_NOTI_T,i,"both")}else{i='<p class="inner"><img src="'+a+'" width="410" height="410"></p>';ticketAlert2(MSG2_CINEMA_NOTI_T,i)}else if(s){i='<p class="inner"><span class="bd_comment">'+s+"</span></p>";ticketAlert2(MSG2_CINEMA_NOTI_T,i,"content")}}})}function ticketStep2PeopleCountCheck(e){if(0==e)return!0;var t=!0;switch($.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺愿��깃툒肄붾뱶){case"14":e%2!=0&&(alert($.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙["�곸쁺愿��깃툒紐�"]+"�곸쁺愿��� 2��, 4��, 6�� �먮뒗 8�� �덈ℓ留� 媛��ν빀�덈떎."),t=!1);break;case"30":2!==e&&(IS_ENGLISH?alert("'CGV Drive in Theater' can be booked for 2 people."):alert("'CGV Drive in' �� �먮룞李� 1���� 2�� 湲곗� �⑥쐞 �덈ℓ留� 媛��ν빀�덈떎.\n       (�몄썝�� 愿�怨꾩뾾�� 李⑤웾 湲곗��쇰줈 李⑤웾 1�� = 2紐� �좏깮)"),t=!1)}return t}var FIRST_ALLEY_X=new Array,ft_person_count=0,ft_seat_remain_count=0,ft_seat_select_count=0,ft_adj_seat_count=0,ft_seat_group_idx=0,ft_selected_seat_rating="",ft_adjacent_seats=[],ft_ticket_prices={},ft_seat_filter_type=0;function ftUpdateSeatCounting(){var e=$("#seats_list .row .seat.selected");ft_person_count=selectNumData.total(),ft_seat_select_count=e.length,ft_seat_remain_count=ft_person_count-ft_seat_select_count,ft_selected_seat_rating="",0<ft_seat_select_count&&(ft_selected_seat_rating=e.first().data("xml").RATING_CD),ftSetAdjacentSeatSelector(ft_seat_remain_count),ftResetSeatGrouping(),ftMarkNotAvailSeats(),tnbUpdate()}function ftResetAdjacentSeatSelector(){var e=$("#adjacent_seat .seat_block");if(e.removeClass("enabled"),e.find("input").prop("disabled",!0),e.each(function(e){$(this),e<ft_seat_remain_count?($(this).addClass("enabled"),$(this).find("input").prop("disabled",!1)):($(this).removeClass("enabled"),$(this).find("input").prop("disabled",!0)),"02"!=ft_selected_seat_rating&&"11"!=ft_selected_seat_rating&&"10"!=ft_selected_seat_rating&&"09"!=userSelect_info_cinema_rate&&"20"!=userSelect_info_cinema_rate||e%2==0&&($(this).removeClass("enabled"),$(this).find("input").prop("disabled",!0))}),0==$("#adjacent_seat .seat_block.selected.enabled").length){var t=$("#adjacent_seat .seat_block.enabled").last();t.addClass("selected"),$("#adjacent_seat .seat_block input").prop("checked",!1),t.find("input").prop("checked",!0),ftSetAdjacentSeatSelector(t.index()+1,t)}0<$("#adjacent_seat .seat_block.selected input").size()&&($("#adjacent_seat .seat_block.selected input").get(0).checked=!0),isNonOddTheater||("15"==$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺愿��깃툒肄붾뱶?2==ft_person_count||4==ft_person_count?e.each(function(e){switch($(this),e){case 0:case 2:$(this).removeClass("enabled"),$(this).find("input").prop("disabled",!0)}}):e.each(function(e,t){$(t).removeClass("enabled"),$(t).find("input").prop("disabled",!0)}):"09"==$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺愿��깃툒肄붾뱶?ft_person_count%2==0?e.each(function(e){switch($(this),e){case 0:case 2:$(this).removeClass("enabled"),$(this).find("input").prop("disabled",!0)}}):e.each(function(e,t){$(t).removeClass("enabled"),$(t).find("input").prop("disabled",!0)}):"04"==$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺愿��깃툒肄붾뱶&&(2==ft_person_count||4==ft_person_count?e.each(function(e){switch($(this),e){case 0:case 2:$(this).removeClass("enabled"),$(this).find("input").prop("disabled",!0)}}):e.each(function(e,t){$(t).removeClass("enabled"),$(t).find("input").prop("disabled",!0)})))}function ftSetAdjacentSeatSelector(e,t,a){isNonOddTheater&&"15"==$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺愿��깃툒肄붾뱶&&(e<=2&&(e=2),t=void 0),(null==t||$(t).closest(".seat_block").hasClass("enabled"))&&(ft_seat_remain_count<e&&(e=ft_seat_remain_count),$("#adjacent_seat .seat_block").removeClass("selected"),$("#adjacent_seat .seat_block input").prop("checked",!1),$("#adjacent_seat .seat_block.block"+e).addClass("selected"),$("#adjacent_seat .seat_block.block"+e+" input").prop("checked",!0),2<(ft_adj_seat_count=e)&&(ft_adj_seat_count=2),setTimeout("ftSetAdjacentSeatSelectorDelay()",0),1!=a&&ftMarkNotAvailSeats())}function ftSetAdjacentSeatSelectorDelay(){var e,t;$("#adjacent_seat a").each(function(){e=$(this),t=e.find(".blind_msg"),e.hasClass("selected")?t.html(" �좏깮��"):e.hasClass("enabled")?t.html(""):t.html(" �좏깮遺덇�")})}function ftChooseSeatGroupDirection(){var a,s,i,n,r;$("#seats_list .row .seat_group").each(function(e,t){a=$(t),s=a.find(".seat"),i=s.last().data("xml"),n=parseInt(i.LOC_X,10),r=parseInt(i.LOC_Y,10),100<=FIRST_ALLEY_X[r-1]||n<FIRST_ALLEY_X[r-1]&&(a.data("leftside","Y"),a.addClass("left"))})}function ftSeatRowEvent(e){var t=$(e.currentTarget?e.currentTarget:e.srcElement).parents(".row");switch(e.type){case"focus":case"mouseenter":$("#seats_list .row").removeClass("hasmouse hasfocus"),t.addClass("hasmouse");break;case"blur":case"mouseleave":t.removeClass("hasmouse")}}function ftMarkNotAvailSeats(){var e,t=$("#seats_list .row"),a=t.find(".group"),s=t.find(".seat");(s.removeClass("notavail"),1===ft_seat_remain_count)&&a.not(".reserved").each(function(e){var t=$(this).find(".seat");2<t.length?t.each(function(e){relationCheck(t.data("xml").RATING_CD)||1!=e&&e!=t.length-2||$(this).addClass("notavail")}):t.removeClass("notavail")});(0<selectNumData.child||0<selectNumData.senior||0<selectNumData.special)&&a.find(".sweet, .eggbox, .coupleSofa").addClass("notavail");var i=s.not(".selected",".reserved");"02"==ft_selected_seat_rating?i.not(".sweet").addClass("notavail"):"03"==ft_selected_seat_rating?i.not(".veat").addClass("notavail"):"11"==ft_selected_seat_rating?i.not(".couple").addClass("notavail"):"16"==ft_selected_seat_rating?i.not(".eggbox").addClass("notavail"):"26"==ft_selected_seat_rating?i.not(".cdcCoupleSofa").addClass("notavail"):"30"==ft_selected_seat_rating?i.not(".coupleSofa").addClass("notavail"):"31"===ft_selected_seat_rating?i.not(".suite_A").addClass("notavail"):"32"===ft_selected_seat_rating?i.not(".suite_B").addClass("notavail"):"33"===ft_selected_seat_rating&&i.not(".familyRecliner").addClass("notavail");for(var n=a.find(".seat.reserved").not(".blocked, .distanced"),r=0;r<n.length;r++){var o=n.eq(r).data("xml");if(relationCheck(o.RATING_CD)&&"000"!==o.SEAT_RELATION_CODE)for(var c=ratingCodeInfo[o.RATING_CD].classNM,l=a.find("."+c),d=0;d<l.length;d++){var _=l.eq(d),p=_.data("xml");p.LOC_Y===o.LOC_Y&&p.RATING_CD===o.RATING_CD&&p.SEAT_RELATION_CODE===o.SEAT_RELATION_CODE&&(_.hasClass("reserved")||_.addClass("notavail"))}}var u=!1,f=null;""!=ft_selected_seat_rating&&("12"!==ft_selected_seat_rating&&"13"!==ft_selected_seat_rating&&"14"!==ft_selected_seat_rating||(u=!0),i.each(function(){(f=$(this).data("xml").RATING_CD)!=ft_selected_seat_rating&&(u&&"12"!==f&&"13"!==f&&"14"!==f&&$(this).addClass("notavail"),u||$(this).addClass("notavail"))}));$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺愿��깃툒肄붾뱶;s.each(function(){(e=$(this)).find(".blind_msg").html(""),e.hasClass("selected")&&e.find(".blind_msg").html("�좏깮��"),e.hasClass("notavail")&&e.find(".blind_msg").html("�좏깮遺덇�")})}function ftDisableGroup(e){var t;e.each(function(){(t=$(this)).hasClass("reserved")||t.hasClass("selected")||t.addClass("notavail")})}function ftGetSeatListGroup(e){var t=e.find(".seat");return"Y"==e.parents(".seat_group").data("leftside")&&(t=t.reverse()),t}function ftGetAdjacentSeats(e){if(!e.hasClass("notavail")&&!e.hasClass("reserved")){ft_adjacent_seats.length=0;var t,a,s=ftGetSeatListGroup(e.parent()),i=s.length,n=i%2==1;switch(0===ft_seat_remain_count&&(ft_adj_seat_count=1===ft_person_count?1:2),1===ft_seat_remain_count&&(ft_adj_seat_count=ft_seat_remain_count),ft_adj_seat_count){case 1:ft_adjacent_seats.push(e);break;case 2:a=(t=ftGetIndex(s,e))-t%2,n&&a==i-1?(ft_adjacent_seats.push(s.eq(a-1)),ft_adjacent_seats.push(s.eq(a))):(ft_adjacent_seats.push(s.eq(a)),ft_adjacent_seats.push(s.eq(a+1)));break;case 3:a=i-3<=(t=ftGetIndex(s,e))?i-3:t-t%2,ft_adjacent_seats.push(s.eq(a)),ft_adjacent_seats.push(s.eq(a+1)),ft_adjacent_seats.push(s.eq(a+2));break;case 4:a=i-4<=(t=ftGetIndex(s,e))?i-4:t-t%2,ft_adjacent_seats.push(s.eq(a)),ft_adjacent_seats.push(s.eq(a+1)),ft_adjacent_seats.push(s.eq(a+2)),ft_adjacent_seats.push(s.eq(a+3))}return ft_adjacent_seats}}function ftGetIndex(e,a){var s=-1;return e.each(function(e,t){if($(t)[0]==a[0])return s=e,!1}),s}function ftResetSeatGrouping(){$(".section-seat .theater .seats .row .group").addClass("to_be_removed");var a,s,i,n,r,o,c,l,d,_,p,u,f,S,m,N,I,e=$(".section-seat .theater .seats .row .seat a:focus"),t=$(".section-seat .theater .seats .row .seat"),v=!1;t.each(function(e,t){a=$(t),n=a.parents(".seat_group"),n.parents(".row"),s=a.data("xml"),o=parseInt(s.LOC_Y,10),c=parseInt(s.LOC_X,10),parseInt(s.SEAT_NO,10),_=s.SEAT_STATE,u=a.hasClass("selected"),S=s.RATING_CD,N=s.KIND_CD,v=!1,l!=o?v=!0:1<c-d?v=!0:_!=p?v=!0:S!=m?v=!0:u!=f?v=!0:N!=I&&(v=!0),v&&(i="<div class='group","N"==_&&(i+=" reserved"),i+="'></div>",r=$(i),n.append(r)),r.append(a),"02"==S?r.data("sweetbox","Y"):"11"==S&&r.data("couple","Y"),l=o,d=c,p=_,m=S,f=u,I=N}),0<e.length&&e.focus(),ftPreselectSeatsClear(),useTimeout?setTimeout("ftResetSeatGroupingDelay();",0):ftResetSeatGroupingDelay()}function ftResetSeatGroupingDelay(){$("#seats_list .row .group.to_be_removed").remove(),setScreenReaderSeat()}function ftPreselectSeatsClear(){if(CMN_OSBR.ff)$(".section-seat .theater .seats .row .seat.preselect").removeClass("preselect"),ft_preselect_seats.length=0;else{for(var e=ft_preselect_seats.length,t=0;t<e;t++)ft_preselect_seats[t].removeClass("preselect");ft_preselect_seats.length=0}}var ft_preselect_seats=[];function ftSeatMouseEnterListener(e){var t=$(e.currentTarget?e.currentTarget:e.srcElement).parent();if(!t.hasClass("selected")&&!t.hasClass("notavail")&&!t.hasClass("reserved")){ftPreselectSeatsClear(),ftGetAdjacentSeats(t);for(var a,s=ft_adjacent_seats.length,i=0;i<s;i++)(a=ft_adjacent_seats[i]).addClass("preselect"),ft_preselect_seats.push(a)}}function ftSeatMouseLeaveListener(e){ftPreselectSeatsClear()}function ftSeatClickListener(e){if(!(0<getLoadingCount())){var t=$(e.currentTarget?e.currentTarget:e.srcElement).parent();if(!t.hasClass("notavail")&&!t.hasClass("reserved")){if(t.hasClass("mybox")&&!t.hasClass("selected"))if(!confirm(IS_ENGLISH?"The seats you have selected are single seats with a partition on both sides. Would you like to continue?":"�좏깮�섏떊 醫뚯꽍�� �묒궗�대뱶�� 移몃쭑�닿� �ㅼ튂�� 1�� �꾩슜 醫뚯꽍�낅땲��, 怨꾩냽�섏떆寃좎뒿�덇퉴?"))return!1;_showLoadingIE();var a,s,i=$.cgv.api.coupon,n=[i.CouponListNAuthCGVDiscount,i.CouponListNAuthCGVDiscountTotal];t.hasClass("primezone")?(n[0].PARAMS["�꾨씪�꾩뿬遺�"]="1",n[1].PARAMS["�꾨씪�꾩뿬遺�"]="1"):(n[0].PARAMS["�꾨씪�꾩뿬遺�"]="0",n[1].PARAMS["�꾨씪�꾩뿬遺�"]="0"),ftGetAdjacentSeats(t),0==ft_adjacent_seats.length&&(isNonOddTheater||alert(MSG1_NO_SELECT_PERSON),skipToSomething("skip_seat_list"));if(t.hasClass("selected")){s=t.data("sgi");var r=$(".section-seat .theater .seats .row .seat.sgi"+s);1<=r.length&&r.removeClass("selected sgi"+s)}else{if(0<ft_person_count&&ft_person_count==ft_seat_select_count)return alert("�대� 醫뚯꽍�� 紐⑤몢 �좏깮�섏��듬땲��."),!1;if(isNonOddTheater&&t.attr("class").match(/couple|sweet|veat/)){var o=t.parent().parent().find(".seat");o.length%2==1&&1==ft_seat_remain_count&&alert(MSG2_SEAT_COUPLE_NOTI_3),o.length%2==0&&1==ft_seat_remain_count&&alert(MSG2_SEAT_COUPLE_NOTI_2)}var c=!0,l=[].concat(ft_adjacent_seats),d=$("#seats_list .row").find(".group"),_=t.data("xml");if(relationCheck(_.RATING_CD)&&"000"!==_.SEAT_RELATION_CODE){for(var p=ratingCodeInfo[_.RATING_CD].classNM,u=ratingCodeInfo[_.RATING_CD].seatNM,f=d.find("."+p),S=new Array,m=new Array,N=0;N<f.length;N++){var I=f.eq(N).data("xml");I.LOC_Y===_.LOC_Y&&I.RATING_CD===_.RATING_CD&&I.SEAT_RELATION_CODE===_.SEAT_RELATION_CODE&&"N"!==I.SEAT_STATE&&(S.push(f.eq(N)),m.push(ftGetLocName(I.LOC_Y_NM)+parseInt(I.SEAT_NO,10)))}var v=S.length;if(ft_seat_remain_count<v){var h=IS_ENGLISH?"The selected seat '"+u+"' is for "+v+" people.\nPlease select the number of people in increments of "+v+" people.\n\nConnecting seats: "+m.join(", "):"�좏깮�섏떊 '"+u+"' 醫뚯꽍�� "+v+"�� 醫뚯꽍�낅땲��.\n"+v+"�� �⑥쐞濡� �몄썝�� �좏깮�댁＜�몄슂.\n\n�곌껐 醫뚯꽍: "+m.join(", ");alert(h),c=!1}else l=S}for(N=0;N<l.length;N++){if(a=l[N],0<selectNumData.millitary){var g=a.data().xml;if(void 0===ft_ticket_prices[g.RATING_CD+"10"]){var C=g.RATING_NM;"��"===C.charAt(C.length-1)&&(C=C.slice(0,C.length-1)),a.hasClass("handicap")&&(C="�μ븷��"),alert(C+"�앹� 援곗씤�좎씤�� �곸슜�섏� �딆뒿�덈떎. \n醫뚯꽍�� �ㅼ떆 �좏깮�댁＜�몄슂."),c=!1;break}}if(a.hasClass("handicap")){0==confirm("11"!==$.cgv.data.怨좉컼�좏깮�뺣낫["�곸쁺愿��쒓컙"]["�곸쁺愿��깃툒肄붾뱶"]?MSG2_SEAT_HANDICAP:MSG2_SEAT_HANDICAP_4DX)&&(_hideLoading(),c=!1);break}if(0<selectNumData.child&&a.hasClass("sweet")){alert("�대┛�� �붽툑�� �댁슜�� �ㅼ쐞�� 諛뺤뒪�� �댁슜�� �쒗븳 �⑸땲��."),c=!1;break}}if(!c)return numPeopleClickProcess(),!1;for(s=ft_seat_group_idx++,N=0;N<l.length;N++)(a=l[N]).addClass("selected sgi"+s),a.data("sgi",s)}ftUpdateSeatCounting(),ftResetAdjacentSeatSelector(),setTimeout("ftSeatClickListenerDelay()",10)}}}function ftSeatClickListenerDelay(){1!=ft_person_count&&ftResetSeatGrouping(),ft_person_count<=ft_seat_select_count?$("#ft_nextstep_btn_2 span.blind").html("�쇰줈 吏꾪뻾�섍린"):$("#ft_nextstep_btn_2 span.blind").html("�쇰줈 吏꾪뻾�섍린 遺덇�"),ftMarkNotAvailSeats(),tnbUpdate(),_hideLoadingIE()}function ftSeatFocusListener(e){if("focus"==e.type){var t,a=$(e.currentTarget?e.currentTarget:e.srcElement).parent();if(a.hasClass("selected"))return;if(a.hasClass("notavail"))return;if(a.hasClass("reserved"))return;ftPreselectSeatsClear(),ftGetAdjacentSeats(a);for(var s=ft_adjacent_seats.length,i=0;i<s;i++)(t=ft_adjacent_seats[i]).addClass("preselect"),ft_preselect_seats.push(t)}else ftPreselectSeatsClear()}function reservationSeatReset(e){ftUpdateSeatCounting(),ftResetAdjacentSeatSelector(),ftLoadSeatLayout()}function ftSetSeatLayoutZoom(e){var t,a,s,i,n,r,o,c=$(".section-seat .theater"),l=$("#seats_list"),d=l.data("width"),_=l.data("height"),p=$("#seat_zoom_btn");e?(p.addClass("on"),c.addClass("zoom"),d=l.data("width_zoom"),_=l.data("height_zoom"),l.css({width:d+"px",height:_+"px"})):(p.removeClass("on"),c.removeClass("zoom"),l.css({width:d,height:_})),$("#seats_list .row").each(function(){t=$(this),a=t.data("top"),e&&(a=t.data("top_zoom")),t.css({top:a+"px"})}),$("#seats_list .row .seat").each(function(){s=$(this),i=s.data("left"),e&&(i=s.data("left_zoom")),s.css({left:i+"px"})}),$("#seats_list .exit").each(function(){n=$(this),r=n.data("top"),o=n.data("left"),e&&(r=n.data("top_zoom"),o=n.data("left_zoom")),n.css({top:r+"px",left:o+"px"})})}function ftGetLocName(e){return e.split(" ").join("")}function ticketStep2TimeSelectPopupShow(){var e=$("#section_time_popup");if(e.is(":visible"))ticketStep2TimeSelectPopupHide();else{if(e.unbind("mousedown").bind("mousedown",function(e){return!1}),$(document.body).unbind("mousedown",ticketStep2TimeSelectPopupHide).bind("mousedown",ticketStep2TimeSelectPopupHide),e.find(".btn_cancel").unbind("click").bind("click",function(e){ticketStep2TimeSelectPopupHide()}),e.find(".btn_ok").unbind("click").bind("click",function(e){if(0!=$("#section_time_popup .time-list ul li.preselect").size()){var t,a=$("#section_time_popup .time-list ul li.preselect");if(t=$.isArray($.cgv.data.TIMETABLE.Table)?$.cgv.data.TIMETABLE.Table[a.prop("data-index")]:$.cgv.data.TIMETABLE.Table,!selectTime(t,!0))return;ticketStep2TimeSelectPopupHide(),ticketStep2Init()}else ticketStep2TimeSelectPopupHide()}),$("#section_time_popup .time-list").remove(),null!=$.cgv.data.TIMETABLE.Table){var t=$.cgv.data.TIMETABLE.Table,a=$('<div class="time-list nano"></div>'),I=$('<div class="content scroll-y"></div>');a.append(I),$("#section_time_popup .sprite").append(a),$(t).each(function(e,a){if(_theaterListType==THEATER_LIST_TYPE.SPECIALTHEATER&&a.SCREEN_RATING_CD!=$.cgv.data.怨좉컼�좏깮�뺣낫.洹뱀옣.�곸쁺愿�醫낅쪟)return!0;var t,s=a.SEAT_CAPACITY+"";if($($.cgv.data.REMAIN_SEAT_INFO).each(function(e,t){return null==t||(a.SCREEN_CD==t.SCREEN_CD&&parseInt(a.PLAY_NUM,10)==parseInt(t.PLAY_NUM,10)?(s=parseInt(t.REMAIN_SEAT,10),!1):void 0)}),I.find("div.theater").is("[SCREEN_CD="+a.SCREEN_CD+"][MOVIE_CD="+a.MOVIE_CD+"]"))t=I.find("div.theater[SCREEN_CD="+a.SCREEN_CD+"][MOVIE_CD="+a.MOVIE_CD+"] ul");else{var i="";i=""!=a.SUBTITLE_NM&&""!=a.MOVIE_ADD_ATTR?a.MOVIE_KIND_DISPLAY_NM+"("+a.SUBTITLE_NM+","+a.MOVIE_ADD_ATTR+")":""!=a.SUBTITLE_NM&&""==a.MOVIE_ADD_ATTR?a.MOVIE_KIND_DISPLAY_NM+"("+a.SUBTITLE_NM+")":""==a.SUBTITLE_NM&&""!=a.MOVIE_ADD_ATTR?a.MOVIE_KIND_DISPLAY_NM+"("+a.MOVIE_ADD_ATTR+")":a.MOVIE_KIND_DISPLAY_NM;var n,r=$('<div class="theater"></div>').attr("SCREEN_CD",a.SCREEN_CD).attr("MOVIE_CD",a.MOVIE_CD),o=$('<span class="title"></span>'),c=$('<span class="name"></span>').text(i),l=$('<span class="floor"></span>').text(a.SCREEN_NM);n=IS_ENGLISH?$('<span class="seatcount"></span>').text("(Total "+a.SEAT_CAPACITY+" seats)"):$('<span class="seatcount"></span>').text("(珥�"+a.SEAT_CAPACITY+"��)"),t=$("<ul></ul>"),o.append(c),o.append(l),o.append(n),r.append(o),r.append(t),I.append(r)}var d,_,p=a.PLAY_START_TM.substr(0,2)+":"+a.PLAY_START_TM.substr(2,2),u=a.PLAY_END_TM.substr(0,2)+":"+a.PLAY_END_TM.substr(2,2),f=$("<li></li>").prop("data-index",e).attr("PLAY_START_TM",a.PLAY_START_TM).attr("SCREEN_CD",a.SCREEN_CD).attr("MOVIE_CD",a.MOVIE_CD).attr("PLAY_NUM",a.PLAY_NUM),S=$('<a class="button" href="#" onclick="return false;"/>'),m=$('<span class="time"><span>'+p+"</span></span>");_=IS_ENGLISH?(d=$('<span class="count">'+s+'<div class="sreader">seats remain</div></span>'),$('<div class="sreader">End time '+u+'</div><span class="sreader mod"></span>')):(d=$('<span class="count">'+s+"��</span>"),$('<div class="sreader">醫낅즺�쒓컙 '+u+'</div><span class="sreader mod"></span>')),S.append(m),S.append(d),f.append(S),S.append(_),t.append(f),S.bind("click",function(){var e=$(this).parent("li");e.hasClass("disabled")||(e.hasClass("selected")||("Y"!=($.isArray($.cgv.data.TIMETABLE.Table)?$.cgv.data.TIMETABLE.Table[e.prop("data-index")]:$.cgv.data.TIMETABLE.Table).WARNING_TIME||confirm(MSG1_TIME_SHORT))&&($("#section_time_popup .time-list ul li").removeClass("preselect selected"),e.addClass("preselect")))});var N="醫낅즺 ";switch(IS_ENGLISH&&(N="End "),$(S).aToolTip({fixed:!0,xOffset:-8,yOffset:1,inSpeed:100,outspeed:100,toolTipClass:"tooltip-ticket-time",tipContent:"<span class='time'>"+N+u+"<span></span></span>"}),a.PLAY_TIME_CD){case"01":f.addClass("morning");break;case"03":f.addClass("night")}"Y"==a.ALLOW_SALE_YN?"0"==a.SEAT_REMAIN_CNT?(IS_ENGLISH?d.text("Sold out"):d.text("留ㅼ쭊"),f.addClass("disabled")):"9999"==a.SEAT_REMAIN_CNT?(IS_ENGLISH?d.text("Finish"):d.text("�덈ℓ醫낅즺"),f.addClass("disabled")):IS_ENGLISH?d.html(s+'<span class="sreader">seats remain</span>'):d.html(s+"��"):(IS_ENGLISH?d.text("Prepare"):d.text("以�鍮꾩쨷"),f.addClass("disabled"))}),$("#section_time_popup .time-list .theater:last-child").css("border","none"),$("#section_time_popup .time-list ul li").removeClass("selected"),$("#section_time_popup .time-list ul li[SCREEN_CD="+$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺愿�肄붾뱶+"][PLAY_START_TM="+$.cgv.data.怨좉컼�좏깮�뺣낫.�곸쁺愿��쒓컙.�곸쁺�쒓컙+"]").addClass("selected"),setScreenReaderTime($("#section_time_popup .time-list ul li"))}e.show(),setupNanoScroller($("#section_time_popup .time-list")),e.focus(),logClick("�곸쁺�쒓컙 蹂�寃쏀븯湲�")}}function ticketStep2TimeSelectPopupHide(){$(document.body).unbind("mousedown",ticketStep2TimeSelectPopupHide),$("#section_time_popup").hide(),$(".section-screen-select .change_time_btn").focus()}function setScreenReaderSeat(){var a,s,i,e=$(".section-seat .theater .seats .row .seat");e.find(".sreader.mod").html(""),e.each(function(e,t){a=$(t),s=a.find(".sreader.mod"),i="",a.hasClass("selected")&&(IS_ENGLISH?i+=" selected":i+=" �좏깮��"),(a.hasClass("reserved")||a.hasClass("notavail"))&&(IS_ENGLISH?i+=" can not select":i+=" �좏깮遺덇�"),s.html(i)})}function skipToNextRow(e){var t=$(e.currentTarget?e.currentTarget:e.srcElement).parents(".row").next(".row");0<t.length?t.find(".skip_row").focus():skipToSomething("tnb_step_btn_right")}function ts2ClearSeats(){clearInterval(ft_seat_minimap_timer_idx),$("#minimap").css("display","none"),$("#seats_list").empty(),$(".section-seat .theater img.kia5f, .section-seat .theater img.kia6f").remove()}function relationCheck(e){for(var t=!1,a=0;a<ratingCode.length;a++)if(e===ratingCode[a]){t=!0;break}return t}function remainTimeCheck(){var e=!0,t=new Date,a=3600*startTime.getHours()+60*startTime.getMinutes()+startTime.getSeconds();return 600-(3600*t.getHours()+60*t.getMinutes()+t.getSeconds()-a)<=0&&(e=!1),e}var kidsFamily=function(){var n=null,r=null,o=null,t=null,c=null;return{init:function(){n="",o=r=!(c=t=o=r=!1),"06"!==userSelect_info_cinema_rate||"001"!==userSelect_info_cinema_cd&&"004"!==userSelect_info_cinema_cd||(t=!0),"0245"===userSelect_info_theater_cd&&"004"===userSelect_info_cinema_cd&&(t=!0)},is:function(){return r},check:function(s){if(o&&t&&!r)s("Y");else if(o&&r)s("Y");else{var i=APILoader.init();i.URL="/CJ003.aspx/CJ_086",i.PARAMS["�꾩씠���곌퀎踰덊샇"]=notNullDecryption($.cgv.data.怨좉컼�뺣낫["�ъ슜�륤PIN"]),i.PARAMS["�대깽�몄씤利앸쾲��"]="",i.PARAMS["�대깽�몄퐫��"]="00019",i.PARAMS["援щ텇肄붾뱶"]="1",$.cgv.net.loadAPI(i,i.PARAMS,{success:function(e){var t=i.parseData(e).SMS_RESULT,a="N";r=!(o=!0),"Y"!==(n=t.MEM_YN)&&"1"!==n||(r=!0,a="Y"),s(a),r&&!c&&(c=!0,ticketAlert(MSG1_KIDSFAMILY_PRICING_t,MSG1_KIDSFAMILY_PRICING_c))},error:function(){alert(IS_ENGLISH?"":"�ъ슜�� �댁슜�뺣낫 議고쉶�� �ㅽ뙣 �덉뒿�덈떎.")}})}},join:function(){if($.cgv.data.怨좉컼�뺣낫.鍮꾪쉶�먯뿬遺�){var e="�꾩옱 鍮꾪쉶�� 濡쒓렇�� �곹깭�낅땲��. �대┛�� �붽툑�쒕뒗 CGV �뚯썝 濡쒓렇�� �� �댁슜 �� �� �덉뒿�덈떎.\n\nCGV �뚯썝�쇰줈 濡쒓렇�명븯�쒓쿋�듬땲源�?";return IS_ENGLISH&&(e=MSG_CMN_LOGIN),confirm(e)&&ticketPopupShow("popup_login"),!1}e="�대┛�� �붽툑�� '�ㅼ쫰�⑤�由� �대읇'\n�뚯썝�� �쒗빐 �댁슜 媛��ν빀�덈떎.\n\n�ㅼ쫰�⑤�由� �대읇�� 臾대즺 媛��낇븯�쒓쿋�듬땲源�?",t&&(e="�ㅼ쫰�⑤�由� �대읇�섏뿉 媛��낇븯�붿빞\n�대┛�� �붽툑�� �곸슜�섎ŉ, 誘멸��낆떆 �좎씤�� �곸슜�섏� �딆뒿�덈떎.\n\n�ㅼ쫰�⑤�由� �대읇�� 媛��낇븯�쒓쿋�듬땲源�?"),IS_ENGLISH&&(e="if using the child price, please join the Kids family club.\njoin the Kids family club?"),"4"===n&&(e="�ㅼ쫰�⑤�由ы겢��'�� 留�12�몄씠�� 珥덈벑�숈깮 �먮�瑜� �� �뚯썝�� �쒗빐 媛��낆씠 媛��ν빀�덈떎.\n湲곗� �섏씠瑜� 珥덇낵�� 寃쎌슦, �대┛�� �붽툑 諛쒓텒 �� �곸쁺愿� �낆옣�� �쒗븳�⑸땲��.\n\n�ㅼ쫰�⑤�由� �대읇�� 臾대즺 媛��낇븯�쒓쿋�듬땲源�?"),confirm(e)&&function(){var e=$("#clubKizJoin",parent.document.body);if(e.length<=0){(e=$('<iframe id="clubKizJoin" class="layer-wrap clubtype" scrolling="no"/>')).attr({width:"522px",height:"100%",frameborder:"0"}).css({position:"absolute",left:$(window).width()/2-261+"px","z-index":"1000","border:":"none",top:"0"});var t=$("#contaniner",parent.document.body);1<=t.length?e.css("top","265px"):t=$("body"),t.append(e)}e.attr("src","http://www.cgv.co.kr/user/membership/KidsFamilyClub/KizClubJoinPopup.aspx?book=Y").show();var a=setInterval(function(){"none"===e.css("display")&&(clearInterval(a),ticketStep2Init())},300)}()},cineKids:function(){return t}}}(),noblessesClub=function(){var r=!1,o=!1,c=null;$('<div class="popup_noblesses"/>');return{init:function(){var e=new Date;e=e.getFullYear();var t=$.cgv.data.怨좉컼�뺣낫,a=$.cgv.data.�듭떊.蹂듯샇��(t.�ъ슜�먮굹��);a=parseInt(a.substr(0,4),10),c=$.cgv.data.怨좉컼�뺣낫.�ъ슜�먯븘�대뵒,r=50<=e-a;var s,i=new Date,n=(i=i.getDate()+"")!==locStorage.item("get","expiredDate");n&&localStorage.removeItem(c),locStorage.item("get","noblessesNoShow"),(n=!1)||(r=!1),r&&((s=APILoader.init()).URL="/CJ003.aspx/CJ_086",s.PARAMS["�꾩씠���곌퀎踰덊샇"]=notNullDecryption($.cgv.data.怨좉컼�뺣낫["�ъ슜�륤PIN"]),s.PARAMS["�대깽�몄씤利앸쾲��"]="",s.PARAMS["�대깽�몄퐫��"]="00028",s.PARAMS["援щ텇肄붾뱶"]="1",$.cgv.net.loadAPI(s,s.PARAMS,{success:function(e){var t=s.parseData(e),a=t.SMS_RESULT;isChecked=!0,o="Y"===a.MEM_YN||"1"===a.MEM_YN},error:function(){alert(IS_ENGLISH?"":"�ъ슜�� �댁슜�뺣낫 議고쉶�� �ㅽ뙣 �덉뒿�덈떎.")}}))},is:function(e){var t=null;if("target"===e&&(t=r),"join"===e&&(t=o),null!==t)return t},join:function(){ticketAlert("�몃툝�덉뒪 Club 媛��낆븞��",'<div><p>�몃툝�덉뒪 硫ㅻ쾭��뿉 臾대즺 媛��낇븯�쒕㈃ �밸퀎 �좎씤 荑좏룿�� �쒕┰�덈떎.</br>吏�湲� 臾대즺 媛��낇븯�쒓쿋�듬땲源�?</br></br></p><input type="checkbox" id="nbDonotShowToday" name="nbDonotShowToday"/><label for="nbDonotShowToday">�ㅻ뒛 �섎（ 蹂댁� �딄린</label></div>',"noblesses",function(){if(o=!0,$("#nbDonotShowToday").prop("checked")){var e=new Date;locStorage.item("set","noblessesNoShow","Y"),locStorage.item("set","expiredDate",e.getDate()+"")}})},doJoin:function(){var e=$("#noblessesJoin",parent.document.body);if(e.length<=0){(e=$('<iframe id="noblessesJoin" class="layer-wrap clubtype" scrolling="no"/>')).attr({width:"522px",height:"500px",frameborder:"0"}).css({position:"absolute",left:$(window).width()/2-261+"px","z-index":"1000","border:":"none",top:"0"});var t=$("#contaniner",parent.document.body);1<=t.length?e.css("top","265px"):t=$("body"),t.append(e)}e.attr("src","http://www.cgv.co.kr/user/membership/NobleClub/NobleClubPopup.aspx?book=Y").show();var a=setInterval(function(){"none"===e.css("display")&&(clearInterval(a),ticketStep2Init())},300)}}}(),onlinePayEvent=function(){var t={},a={type:"PAY",title:"",amount:0,code:"XXXX",donotcbr:!0,params:{}},s=$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫,r=!1,i=!1,n=!1,o=null,c={tit:"",iptNM:"",tit_desc:"",notice:""},e=null,l=null;function d(){if(0===(e=$("#onlinePromotion")).length)return(l=$('<div class="promotion_message" id="promotion_message">')).html('<div class="msg"></div><a href="#" onclick="return false;">�곸꽭蹂닿린</a>'),e=$('<div id="onlinePromotion" class="tpm_special">'),promoConInnerHtml='<div class="special_header"><h3 class="title"></h3><span class="desc"></span><a class="tpmh_btn" href="#" onclick="return false;"><span></span></a></div><div class="special_body membership"><div class="row online_promotion"><div class="divider"></div><div class="title"></div><div class="card_no"><input id="onlinePayApply" type="checkbox"/><label for="onlinePayApply"></label></div><div class="result"><span></span></div></div></div>',e.html(promoConInnerHtml),e.find("div.result").css({"text-align":"left",color:"#666","line-height":"20px"}),$("div.ticket_payment_method > div.tpm_special_membership").after(e),$("#onlinePayApply").bind("change",_),void d();e.find(".title").text(c.tit),e.find("label").text(c.iptNM),e.find("span.desc").text(c.tit_desc),e.find("div.result > span").html(c.notice),i||(e.hide(),n=!1),l.find(".msg").text(c.noticeMsg),n?(l.show(),e.addClass("opened").show(),e.find('input[type="checkbox"]').prop("checked",!0)):(l.hide(),e.find('input[type="checkbox"]').prop("checked",!1),p(0)),ts3CalculatePayment()}function _(e){r=!0;var t=$(e.target);n=!!t.prop("checked"),d()}function p(e){r=!1,0===e?$("#summary_payment_list dl.code_XXXX").hide():$("#summary_payment_list dl.code_XXXX").show(),a.title=IS_ENGLISH?t.discPer+"% "+t.discNM:t.discNM+" "+t.discPer+"%�좎씤",a.amount=e,a.params["異붽��좎씤珥앷툑��"]=e,ts3AddPaymentData(a,!0),setTimeout(ts3UpdateTitlePosi,0)}function u(){$("#specialNotice").remove(),$("#onlinePayApply").prop("checked",!1).trigger("change"),p(0)}var f={"0600":"VIP 諛섍컪�좎씤","0100":"CGV �좎씤荑좏룿","0820":"CJONE �좎씤荑좏룿","0980":"移대뱶�� �좎씤荑좏룿",Z770:"�꾨� M point","0250":"�꾩떆�꾨굹 留덉씪由ъ�",1040:"釉붾（硫ㅻ쾭�� �ъ씤��","0300":"GS&POINT",1090:"CJ�꾩쭅�먰븷��","0580":"KB FINETECH �좎씤","0570":"BC移대뱶 �좎씤",1050:"移댁뭅�ㅻ콉�ъ껜�ъ뭅�� �좎씤","0350":"KEB �섎굹移대뱶(援� �명솚) �좎씤","0780":"NH梨꾩�移대뱶 �좎씤","0510":"CGV濡�뜲移대뱶 �좎씤","0480":"CJONE�쇱꽦移대뱶 �좎씤","0530":"CJONE�좏븳移대뱶 �좎씤","0550":"NH臾명솕�꾨━移대뱶 �좎씤"},S=null;return{init:d,is:function(){return n},check:function(e){if(i=!1,o=null,"N"==e.PROMOTION_TN)return!1;switch(e.PROMOTION_TYPE){case"002":case"003":case"006":n=i=!0,o=MSG2_PROMOTION_003_NOTICE,s["媛�寃⑸떎蹂��붿퐫��"]=e.PROMOTION_TYPE,s["媛�寃⑸떎蹂��붾챸"]=IS_ENGLISH?"Family Offer":"Family �붽툑��",s["媛�寃⑸떎蹂��뷀븷�몄쑉"]=$.cgv.util.parseInt(e.DISC_COUNT_PRICE_PERCENTAGE),c.tit=s["媛�寃⑸떎蹂��붾챸"],IS_ENGLISH?(c.noticeMsg=s["媛�寃⑸떎蹂��뷀븷�몄쑉"]+"% "+s["媛�寃⑸떎蹂��붾챸"],c.iptNM=s["媛�寃⑸떎蹂��붾챸"],c.tit_desc="Tickets purchased with a credit card or by mobile phone payment receive a 10% discount.",c.notice="- By taking advantage of our <Family Offer>, tickets purchased with a credit card or by <br/>&nbsp;mobile phone payment receive a 10% discount.<br/>- Please note that the above discount does not work together with CJ ONE or CGV<br/>&nbsp;discount coupons, Hyundai card M point, Samsung card payback and <br/>&nbsp;Pre-discount credit card "):(c.noticeMsg=s["媛�寃⑸떎蹂��붾챸"]+" "+s["媛�寃⑸떎蹂��뷀븷�몄쑉"]+"% �좎씤",c.iptNM=s["媛�寃⑸떎蹂��붾챸"]+" �곸슜",c.tit_desc="�좎슜移대뱶/�대���/移댁뭅�ㅽ럹��/PAYCO 寃곗젣 �� 10% �좎씤�⑸땲��.",c.notice="- <b>理쒖쥌 寃곗젣湲덉븸 湲곗��쇰줈 10% �먮룞�좎씤�� �곸슜�⑸땲��.</b><br/>&nbsp;( �좎씤湲덉븸�� 理쒖쥌 寃곗젣�붾㈃�먯꽌 �뺤씤媛��ν빀�덈떎.)<br/>- 蹂� �붽툑�쒕뒗 CGV�좎씤荑좏룿, �꾨�移대뱶 M�ъ씤�� 諛� 利됱떆�좎씤 �좎슜移대뱶�� 以묐났�좎씤��<br/>&nbsp;�곸슜�섏� �딆뒿�덈떎.")}null!=o&&alert(o)},set:function(){t={discCD:$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.媛�寃⑸떎蹂��붿퐫��,discNM:$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.媛�寃⑸떎蹂��붾챸,discPer:$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.媛�寃⑸떎蹂��뷀븷�몄쑉},a.params["異붽��좎씤寃곗젣�섎떒肄붾뱶"]=t.discCD,a.params["異붽��좎씤���곷ℓ��"]=$.cgv.data.醫뚯꽍媛��뺣낫�꾨즺�뺣낫.�덈ℓ�몄썝��,a.params["異붽��좎씤��"]=t.discCD},cancel:u,apply:p,calc:function(e){var t=0;return n&&(t=parseInt(e*(s["媛�寃⑸떎蹂��뷀븷�몄쑉"]/100),10),p(t=parseInt(100*Math.ceil(t/100),10))),t},isPosibleFn:function(){var e=!0;S=[];for(var t=0;t<TS3_PAYMENT_DATA.length;++t){var a=TS3_PAYMENT_DATA[t];$.each(f,function(e,t){a.code===e&&S.push(a)})}return 1<=S.length&&(e=!1),e},doNotUseChk:function(e){for(var t="",a=0;a<S.length;++a)t+=S[a].title,a<S.length-1&&(t+=" , ");var s="";r?(s="["+t+"]�� "+c.tit+"�� 以묐났�곸슜�� 遺덇��� �⑸땲��.\n["+t+"] �곸슜�� 痍⑥냼�섍퀬\n"+c.tit+"�� �ъ슜�섏떆寃좎뒿�덇퉴?",IS_ENGLISH&&(s="The <"+c.tit+">is invalid with other ["+t+"]\nThe <"+c.tit+">is automatically canceled if a ["+t+"] is applied.\n\nWould you like to continue using the <"+c.tit+">?")):(s="["+t+"]�� "+c.tit+"�� 以묐났�곸슜�� 遺덇��� �⑸땲��.\n"+c.tit+" �곸슜�� 痍⑥냼�섍퀬\n["+t+"]�� �ъ슜�섏떆寃좎뒿�덇퉴?",IS_ENGLISH&&(s="The <"+c.tit+">is invalid with other ["+t+"]\nThe <"+c.tit+">is automatically canceled if a ["+t+"] is applied.\n\nWould you like to continue using the ["+t+"]?"));var i=confirm(s);function n(e){for(var t=e.length,a=!0,s=0;s<e.length;++s)s===t-1&&(a=!1),ts3RemovePaymentDataByCode(e[s].code,a)}r?i?n(S):u():i?u():n(S),e()}}}();function isPremiumTheater(){var e=!1;return"0306"===userSelect_info.洹뱀옣.洹뱀옣肄붾뱶&&("010"!==userSelect_info.�곸쁺愿��쒓컙.�곸쁺愿�肄붾뱶&&"011"!==userSelect_info.�곸쁺愿��쒓컙.�곸쁺愿�肄붾뱶&&"012"!==userSelect_info.�곸쁺愿��쒓컙.�곸쁺愿�肄붾뱶||(e=!0)),e}